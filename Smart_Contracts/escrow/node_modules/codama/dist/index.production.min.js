"use strict";var globalThis=globalThis||{};globalThis.codama=(()=>{var Ca=Object.create;var xe=Object.defineProperty;var xa=Object.getOwnPropertyDescriptor;var wa=Object.getOwnPropertyNames;var La=Object.getPrototypeOf,Fa=Object.prototype.hasOwnProperty;var Ma=(e,t,n)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var T=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ja=(e,t)=>{for(var n in t)xe(e,n,{get:t[n],enumerable:!0})},Ln=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of wa(t))!Fa.call(e,u)&&u!==n&&xe(e,u,{get:()=>t[u],enumerable:!(r=xa(t,u))||r.enumerable});return e};var $a=(e,t,n)=>(n=e!=null?Ca(La(e)):{},Ln(t||!e||!e.__esModule?xe(n,"default",{value:e,enumerable:!0}):n,e)),Ua=e=>Ln(xe({},"__esModule",{value:!0}),e);var we=(e,t,n)=>Ma(e,typeof t!="symbol"?t+"":t,n);var fi=T((kc,li)=>{"use strict";var Pt,h,si={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Qr;function de(e){throw{name:"SyntaxError",message:e,at:Pt,text:Qr}}function S(e){return e&&e!==h&&de("Expected '"+e+"' instead of '"+h+"'"),h=Qr.charAt(Pt),Pt+=1,h}function ui(){var e,t="";for(h==="-"&&(t="-",S("-"));h>="0"&&h<="9";)t+=h,S();if(h===".")for(t+=".";S()&&h>="0"&&h<="9";)t+=h;if(h==="e"||h==="E")for(t+=h,S(),(h==="-"||h==="+")&&(t+=h,S());h>="0"&&h<="9";)t+=h,S();return e=Number(t),isFinite(e)||de("Bad number"),e}function ci(){var e,t,n="",r;if(h==='"')for(;S();){if(h==='"')return S(),n;if(h==="\\")if(S(),h==="u"){for(r=0,t=0;t<4&&(e=parseInt(S(),16),!!isFinite(e));t+=1)r=r*16+e;n+=String.fromCharCode(r)}else if(typeof si[h]=="string")n+=si[h];else break;else n+=h}de("Bad string")}function ae(){for(;h&&h<=" ";)S()}function Ts(){switch(h){case"t":return S("t"),S("r"),S("u"),S("e"),!0;case"f":return S("f"),S("a"),S("l"),S("s"),S("e"),!1;case"n":return S("n"),S("u"),S("l"),S("l"),null;default:de("Unexpected '"+h+"'")}}function hs(){var e=[];if(h==="["){if(S("["),ae(),h==="]")return S("]"),e;for(;h;){if(e.push(Ct()),ae(),h==="]")return S("]"),e;S(","),ae()}}de("Bad array")}function Vs(){var e,t={};if(h==="{"){if(S("{"),ae(),h==="}")return S("}"),t;for(;h;){if(e=ci(),ae(),S(":"),Object.prototype.hasOwnProperty.call(t,e)&&de('Duplicate key "'+e+'"'),t[e]=Ct(),ae(),h==="}")return S("}"),t;S(","),ae()}}de("Bad object")}function Ct(){switch(ae(),h){case"{":return Vs();case"[":return hs();case'"':return ci();case"-":return ui();default:return h>="0"&&h<="9"?ui():Ts()}}li.exports=function(e,t){var n;return Qr=e,Pt=0,h=" ",n=Ct(),ae(),h&&de("Syntax error"),typeof t=="function"?function r(u,o){var s,a,i=u[o];if(i&&typeof i=="object")for(s in Ct)Object.prototype.hasOwnProperty.call(i,s)&&(a=r(i,s),typeof a>"u"?delete i[s]:i[s]=a);return t.call(u,o,i)}({"":n},""):n}});var pi=T((Rc,di)=>{"use strict";var en=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Y,xt,As={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Te;function tn(e){return en.lastIndex=0,en.test(e)?'"'+e.replace(en,function(t){var n=As[t];return typeof n=="string"?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function wt(e,t){var n,r,u,o,s=Y,a,i=t[e];switch(i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(e)),typeof Te=="function"&&(i=Te.call(t,e,i)),typeof i){case"string":return tn(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(Y+=xt,a=[],Object.prototype.toString.apply(i)==="[object Array]"){for(o=i.length,n=0;n<o;n+=1)a[n]=wt(n,i)||"null";return u=a.length===0?"[]":Y?`[
`+Y+a.join(`,
`+Y)+`
`+s+"]":"["+a.join(",")+"]",Y=s,u}if(Te&&typeof Te=="object")for(o=Te.length,n=0;n<o;n+=1)r=Te[n],typeof r=="string"&&(u=wt(r,i),u&&a.push(tn(r)+(Y?": ":":")+u));else for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(u=wt(r,i),u&&a.push(tn(r)+(Y?": ":":")+u));return u=a.length===0?"{}":Y?`{
`+Y+a.join(`,
`+Y)+`
`+s+"}":"{"+a.join(",")+"}",Y=s,u;default:}}di.exports=function(e,t,n){var r;if(Y="",xt="",typeof n=="number")for(r=0;r<n;r+=1)xt+=" ";else typeof n=="string"&&(xt=n);if(Te=t,t&&typeof t!="function"&&(typeof t!="object"||typeof t.length!="number"))throw new Error("JSON.stringify");return wt("",{"":e})}});var mi=T(rn=>{"use strict";rn.parse=fi();rn.stringify=pi()});var Ni=T((Cc,yi)=>{"use strict";var Os={}.toString;yi.exports=Array.isArray||function(e){return Os.call(e)=="[object Array]"}});var nn=T((xc,gi)=>{"use strict";var vi=Object.prototype.toString;gi.exports=function(t){var n=vi.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&vi.call(t.callee)==="[object Function]"),r}});var _i=T((wc,bi)=>{"use strict";var Ei;Object.keys||(rt=Object.prototype.hasOwnProperty,on=Object.prototype.toString,Ti=nn(),an=Object.prototype.propertyIsEnumerable,hi=!an.call({toString:null},"toString"),Vi=an.call(function(){},"prototype"),nt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Lt=function(e){var t=e.constructor;return t&&t.prototype===e},Ai={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Oi=function(){if(typeof window>"u")return!1;for(var e in window)try{if(!Ai["$"+e]&&rt.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{Lt(window[e])}catch{return!0}}catch{return!0}return!1}(),Si=function(e){if(typeof window>"u"||!Oi)return Lt(e);try{return Lt(e)}catch{return!1}},Ei=function(t){var n=t!==null&&typeof t=="object",r=on.call(t)==="[object Function]",u=Ti(t),o=n&&on.call(t)==="[object String]",s=[];if(!n&&!r&&!u)throw new TypeError("Object.keys called on a non-object");var a=Vi&&r;if(o&&t.length>0&&!rt.call(t,0))for(var i=0;i<t.length;++i)s.push(String(i));if(u&&t.length>0)for(var c=0;c<t.length;++c)s.push(String(c));else for(var d in t)!(a&&d==="prototype")&&rt.call(t,d)&&s.push(String(d));if(hi)for(var p=Si(t),l=0;l<nt.length;++l)!(p&&nt[l]==="constructor")&&rt.call(t,nt[l])&&s.push(nt[l]);return s});var rt,on,Ti,an,hi,Vi,nt,Lt,Ai,Oi,Si;bi.exports=Ei});var Ri=T((Lc,ki)=>{"use strict";var Ss=Array.prototype.slice,Es=nn(),Ii=Object.keys,Ft=Ii?function(t){return Ii(t)}:_i(),Di=Object.keys;Ft.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return Es(r)?Di(Ss.call(r)):Di(r)})}else Object.keys=Ft;return Object.keys||Ft};ki.exports=Ft});var sn=T((Fc,Pi)=>{"use strict";Pi.exports=Object});var xi=T((Mc,Ci)=>{"use strict";Ci.exports=Error});var Li=T((jc,wi)=>{"use strict";wi.exports=EvalError});var Mi=T(($c,Fi)=>{"use strict";Fi.exports=RangeError});var $i=T((Uc,ji)=>{"use strict";ji.exports=ReferenceError});var un=T((zc,Ui)=>{"use strict";Ui.exports=SyntaxError});var it=T((qc,zi)=>{"use strict";zi.exports=TypeError});var Bi=T((Bc,qi)=>{"use strict";qi.exports=URIError});var Ki=T((Gc,Gi)=>{"use strict";Gi.exports=Math.abs});var Wi=T((Kc,Hi)=>{"use strict";Hi.exports=Math.floor});var Ji=T((Hc,Yi)=>{"use strict";Yi.exports=Math.max});var Xi=T((Wc,Zi)=>{"use strict";Zi.exports=Math.min});var eo=T((Yc,Qi)=>{"use strict";Qi.exports=Math.pow});var ro=T((Jc,to)=>{"use strict";to.exports=Math.round});var io=T((Zc,no)=>{"use strict";no.exports=Number.isNaN||function(t){return t!==t}});var ao=T((Xc,oo)=>{"use strict";var bs=io();oo.exports=function(t){return bs(t)||t===0?t:t<0?-1:1}});var uo=T((Qc,so)=>{"use strict";so.exports=Object.getOwnPropertyDescriptor});var ot=T((el,co)=>{"use strict";var Mt=uo();if(Mt)try{Mt([],"length")}catch{Mt=null}co.exports=Mt});var at=T((tl,lo)=>{"use strict";var jt=Object.defineProperty||!1;if(jt)try{jt({},"a",{value:1})}catch{jt=!1}lo.exports=jt});var po=T((rl,fo)=>{"use strict";fo.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var u=42;t[n]=u;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==u||a.enumerable!==!0)return!1}return!0}});var No=T((nl,yo)=>{"use strict";var mo=typeof Symbol<"u"&&Symbol,_s=po();yo.exports=function(){return typeof mo!="function"||typeof Symbol!="function"||typeof mo("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:_s()}});var cn=T((il,vo)=>{"use strict";vo.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var ln=T((ol,go)=>{"use strict";var Is=sn();go.exports=Is.getPrototypeOf||null});var Vo=T((al,ho)=>{"use strict";var Ds="Function.prototype.bind called on incompatible ",ks=Object.prototype.toString,Rs=Math.max,Ps="[object Function]",To=function(t,n){for(var r=[],u=0;u<t.length;u+=1)r[u]=t[u];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},Cs=function(t,n){for(var r=[],u=n||0,o=0;u<t.length;u+=1,o+=1)r[o]=t[u];return r},xs=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};ho.exports=function(t){var n=this;if(typeof n!="function"||ks.apply(n)!==Ps)throw new TypeError(Ds+n);for(var r=Cs(arguments,1),u,o=function(){if(this instanceof u){var d=n.apply(this,To(r,arguments));return Object(d)===d?d:this}return n.apply(t,To(r,arguments))},s=Rs(0,n.length-r.length),a=[],i=0;i<s;i++)a[i]="$"+i;if(u=Function("binder","return function ("+xs(a,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var c=function(){};c.prototype=n.prototype,u.prototype=new c,c.prototype=null}return u}});var _e=T((sl,Ao)=>{"use strict";var ws=Vo();Ao.exports=Function.prototype.bind||ws});var $t=T((ul,Oo)=>{"use strict";Oo.exports=Function.prototype.call});var Ut=T((cl,So)=>{"use strict";So.exports=Function.prototype.apply});var bo=T((ll,Eo)=>{"use strict";Eo.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var fn=T((fl,_o)=>{"use strict";var Ls=_e(),Fs=Ut(),Ms=$t(),js=bo();_o.exports=js||Ls.call(Ms,Fs)});var zt=T((dl,Io)=>{"use strict";var $s=_e(),Us=it(),zs=$t(),qs=fn();Io.exports=function(t){if(t.length<1||typeof t[0]!="function")throw new Us("a function is required");return qs($s,zs,t)}});var xo=T((pl,Co)=>{"use strict";var Bs=zt(),Do=ot(),Ro;try{Ro=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var dn=!!Ro&&Do&&Do(Object.prototype,"__proto__"),Po=Object,ko=Po.getPrototypeOf;Co.exports=dn&&typeof dn.get=="function"?Bs([dn.get]):typeof ko=="function"?function(t){return ko(t==null?t:Po(t))}:!1});var jo=T((ml,Mo)=>{"use strict";var wo=cn(),Lo=ln(),Fo=xo();Mo.exports=wo?function(t){return wo(t)}:Lo?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return Lo(t)}:Fo?function(t){return Fo(t)}:null});var Uo=T((yl,$o)=>{"use strict";var Gs=Function.prototype.call,Ks=Object.prototype.hasOwnProperty,Hs=_e();$o.exports=Hs.call(Gs,Ks)});var yn=T((Nl,Ho)=>{"use strict";var O,Ws=sn(),Ys=xi(),Js=Li(),Zs=Mi(),Xs=$i(),Re=un(),ke=it(),Qs=Bi(),eu=Ki(),tu=Wi(),ru=Ji(),nu=Xi(),iu=eo(),ou=ro(),au=ao(),Go=Function,pn=function(e){try{return Go('"use strict"; return ('+e+").constructor;")()}catch{}},st=ot(),su=at(),mn=function(){throw new ke},uu=st?function(){try{return arguments.callee,mn}catch{try{return st(arguments,"callee").get}catch{return mn}}}():mn,Ie=No()(),w=jo(),cu=ln(),lu=cn(),Ko=Ut(),ut=$t(),De={},fu=typeof Uint8Array>"u"||!w?O:w(Uint8Array),he={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?O:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?O:ArrayBuffer,"%ArrayIteratorPrototype%":Ie&&w?w([][Symbol.iterator]()):O,"%AsyncFromSyncIteratorPrototype%":O,"%AsyncFunction%":De,"%AsyncGenerator%":De,"%AsyncGeneratorFunction%":De,"%AsyncIteratorPrototype%":De,"%Atomics%":typeof Atomics>"u"?O:Atomics,"%BigInt%":typeof BigInt>"u"?O:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?O:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?O:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?O:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ys,"%eval%":eval,"%EvalError%":Js,"%Float16Array%":typeof Float16Array>"u"?O:Float16Array,"%Float32Array%":typeof Float32Array>"u"?O:Float32Array,"%Float64Array%":typeof Float64Array>"u"?O:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?O:FinalizationRegistry,"%Function%":Go,"%GeneratorFunction%":De,"%Int8Array%":typeof Int8Array>"u"?O:Int8Array,"%Int16Array%":typeof Int16Array>"u"?O:Int16Array,"%Int32Array%":typeof Int32Array>"u"?O:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ie&&w?w(w([][Symbol.iterator]())):O,"%JSON%":typeof JSON=="object"?JSON:O,"%Map%":typeof Map>"u"?O:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ie||!w?O:w(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Ws,"%Object.getOwnPropertyDescriptor%":st,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?O:Promise,"%Proxy%":typeof Proxy>"u"?O:Proxy,"%RangeError%":Zs,"%ReferenceError%":Xs,"%Reflect%":typeof Reflect>"u"?O:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?O:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ie||!w?O:w(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?O:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ie&&w?w(""[Symbol.iterator]()):O,"%Symbol%":Ie?Symbol:O,"%SyntaxError%":Re,"%ThrowTypeError%":uu,"%TypedArray%":fu,"%TypeError%":ke,"%Uint8Array%":typeof Uint8Array>"u"?O:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?O:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?O:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?O:Uint32Array,"%URIError%":Qs,"%WeakMap%":typeof WeakMap>"u"?O:WeakMap,"%WeakRef%":typeof WeakRef>"u"?O:WeakRef,"%WeakSet%":typeof WeakSet>"u"?O:WeakSet,"%Function.prototype.call%":ut,"%Function.prototype.apply%":Ko,"%Object.defineProperty%":su,"%Object.getPrototypeOf%":cu,"%Math.abs%":eu,"%Math.floor%":tu,"%Math.max%":ru,"%Math.min%":nu,"%Math.pow%":iu,"%Math.round%":ou,"%Math.sign%":au,"%Reflect.getPrototypeOf%":lu};if(w)try{null.error}catch(e){zo=w(w(e)),he["%Error.prototype%"]=zo}var zo,du=function e(t){var n;if(t==="%AsyncFunction%")n=pn("async function () {}");else if(t==="%GeneratorFunction%")n=pn("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=pn("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var u=e("%AsyncGenerator%");u&&w&&(n=w(u.prototype))}return he[t]=n,n},qo={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ct=_e(),qt=Uo(),pu=ct.call(ut,Array.prototype.concat),mu=ct.call(Ko,Array.prototype.splice),Bo=ct.call(ut,String.prototype.replace),Bt=ct.call(ut,String.prototype.slice),yu=ct.call(ut,RegExp.prototype.exec),Nu=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,vu=/\\(\\)?/g,gu=function(t){var n=Bt(t,0,1),r=Bt(t,-1);if(n==="%"&&r!=="%")throw new Re("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Re("invalid intrinsic syntax, expected opening `%`");var u=[];return Bo(t,Nu,function(o,s,a,i){u[u.length]=a?Bo(i,vu,"$1"):s||o}),u},Tu=function(t,n){var r=t,u;if(qt(qo,r)&&(u=qo[r],r="%"+u[0]+"%"),qt(he,r)){var o=he[r];if(o===De&&(o=du(r)),typeof o>"u"&&!n)throw new ke("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:u,name:r,value:o}}throw new Re("intrinsic "+t+" does not exist!")};Ho.exports=function(t,n){if(typeof t!="string"||t.length===0)throw new ke("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new ke('"allowMissing" argument must be a boolean');if(yu(/^%?[^%]*%?$/,t)===null)throw new Re("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=gu(t),u=r.length>0?r[0]:"",o=Tu("%"+u+"%",n),s=o.name,a=o.value,i=!1,c=o.alias;c&&(u=c[0],mu(r,pu([0,1],c)));for(var d=1,p=!0;d<r.length;d+=1){var l=r[d],m=Bt(l,0,1),N=Bt(l,-1);if((m==='"'||m==="'"||m==="`"||N==='"'||N==="'"||N==="`")&&m!==N)throw new Re("property names with quotes must have matching quotes");if((l==="constructor"||!p)&&(i=!0),u+="."+l,s="%"+u+"%",qt(he,s))a=he[s];else if(a!=null){if(!(l in a)){if(!n)throw new ke("base intrinsic for "+t+" exists, but the property is not available.");return}if(st&&d+1>=r.length){var V=st(a,l);p=!!V,p&&"get"in V&&!("originalValue"in V.get)?a=V.get:a=a[l]}else p=qt(a,l),a=a[l];p&&!i&&(he[s]=a)}}return a}});var Zo=T((vl,Jo)=>{"use strict";var Wo=at(),hu=un(),Pe=it(),Yo=ot();Jo.exports=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Pe("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Pe("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Pe("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Pe("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Pe("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Pe("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,i=!!Yo&&Yo(t,n);if(Wo)Wo(t,n,{configurable:s===null&&i?i.configurable:!s,enumerable:u===null&&i?i.enumerable:!u,value:r,writable:o===null&&i?i.writable:!o});else if(a||!u&&!o&&!s)t[n]=r;else throw new hu("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var ea=T((gl,Qo)=>{"use strict";var Nn=at(),Xo=function(){return!!Nn};Xo.hasArrayLengthDefineBug=function(){if(!Nn)return null;try{return Nn([],"length",{value:1}).length!==1}catch{return!0}};Qo.exports=Xo});var oa=T((Tl,ia)=>{"use strict";var Vu=yn(),ta=Zo(),Au=ea()(),ra=ot(),na=it(),Ou=Vu("%Math.floor%");ia.exports=function(t,n){if(typeof t!="function")throw new na("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||Ou(n)!==n)throw new na("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],u=!0,o=!0;if("length"in t&&ra){var s=ra(t,"length");s&&!s.configurable&&(u=!1),s&&!s.writable&&(o=!1)}return(u||o||!r)&&(Au?ta(t,"length",n,!0,!0):ta(t,"length",n)),t}});var sa=T((hl,aa)=>{"use strict";var Su=_e(),Eu=Ut(),bu=fn();aa.exports=function(){return bu(Su,Eu,arguments)}});var la=T((Vl,Gt)=>{"use strict";var _u=oa(),ua=at(),Iu=zt(),ca=sa();Gt.exports=function(t){var n=Iu(arguments),r=t.length-(arguments.length-1);return _u(n,1+(r>0?r:0),!0)};ua?ua(Gt.exports,"apply",{value:ca}):Gt.exports.apply=ca});var ma=T((Al,pa)=>{"use strict";var fa=yn(),da=zt(),Du=da([fa("%String.prototype.indexOf%")]);pa.exports=function(t,n){var r=fa(t,!!n);return typeof r=="function"&&Du(t,".prototype.")>-1?da([r]):r}});var ga=T((Ol,va)=>{"use strict";var Kt=(typeof JSON<"u"?JSON:mi()).stringify,ku=Ni(),Ru=Ri(),Pu=la(),Ht=ma(),Cu=Ht("Array.prototype.join"),ya=Ht("Array.prototype.indexOf"),xu=Ht("Array.prototype.splice"),wu=Ht("Array.prototype.sort"),Na=function(t,n){for(var r="",u=0;u<t;u+=1)r+=n;return r},Lu=function(e,t,n){return n};va.exports=function(t){var n=arguments.length>1?arguments[1]:void 0,r=n&&n.space||"";typeof r=="number"&&(r=Na(r," "));var u=!!n&&typeof n.cycles=="boolean"&&n.cycles,o=n&&n.replacer?Pu(n.replacer):Lu;if(n&&typeof n.collapseEmpty<"u"&&typeof n.collapseEmpty!="boolean")throw new TypeError("`collapseEmpty` must be a boolean, if provided");var s=!!n&&n.collapseEmpty,a=typeof n=="function"?n:n&&n.cmp,i=a&&function(d){var p=a.length>2&&function(m){return d[m]};return function(l,m){return a({key:l,value:d[l]},{key:m,value:d[m]},p?{__proto__:null,get:p}:void 0)}},c=[];return function d(p,l,m,N){var V=r?`
`+Na(N,r):"",k=r?": ":":";if(m&&m.toJSON&&typeof m.toJSON=="function"&&(m=m.toJSON()),m=o(p,l,m),m!==void 0){if(typeof m!="object"||m===null)return Kt(m);var B=function(wn,er){return s&&wn.length===0?er:(er==="[]"?"[":"{")+Cu(wn,",")+V+(er==="[]"?"]":"}")};if(ku(m)){for(var G=[],L=0;L<m.length;L++){var Xt=d(m,L,m[L],N+1)||Kt(null);G[G.length]=V+r+Xt}return B(G,"[]")}if(ya(c,m)!==-1){if(u)return Kt("__cycle__");throw new TypeError("Converting circular structure to JSON")}else c[c.length]=m;for(var dt=wu(Ru(m),i&&i(m)),G=[],L=0;L<dt.length;L++){var l=dt[L],Qt=d(m,l,m[l],N+1);if(Qt){var Pa=Kt(l)+k+Qt;G[G.length]=V+r+Pa}}return xu(c,ya(c,m),1),B(G,"{}")}}({"":t},"",t,0)}});var hc={};ja(hc,{CODAMA_ERROR__ANCHOR__ACCOUNT_TYPE_MISSING:()=>Gn,CODAMA_ERROR__ANCHOR__ARGUMENT_TYPE_MISSING:()=>Kn,CODAMA_ERROR__ANCHOR__PROGRAM_ID_KIND_UNIMPLEMENTED:()=>Yn,CODAMA_ERROR__ANCHOR__SEED_KIND_UNIMPLEMENTED:()=>Wn,CODAMA_ERROR__ANCHOR__TYPE_PATH_MISSING:()=>Hn,CODAMA_ERROR__ANCHOR__UNRECOGNIZED_IDL_TYPE:()=>Bn,CODAMA_ERROR__DISCRIMINATOR_FIELD_HAS_NO_DEFAULT_VALUE:()=>zn,CODAMA_ERROR__DISCRIMINATOR_FIELD_NOT_FOUND:()=>Un,CODAMA_ERROR__ENUM_VARIANT_NOT_FOUND:()=>$n,CODAMA_ERROR__LINKED_NODE_NOT_FOUND:()=>Nt,CODAMA_ERROR__NODE_FILESYSTEM_FUNCTION_UNAVAILABLE:()=>Fn,CODAMA_ERROR__RENDERERS__UNSUPPORTED_NODE:()=>Jn,CODAMA_ERROR__UNEXPECTED_NESTED_NODE_KIND:()=>yt,CODAMA_ERROR__UNEXPECTED_NODE_KIND:()=>mt,CODAMA_ERROR__UNRECOGNIZED_BYTES_ENCODING:()=>jn,CODAMA_ERROR__UNRECOGNIZED_NODE_KIND:()=>pt,CODAMA_ERROR__UNRECOGNIZED_NUMBER_FORMAT:()=>Mn,CODAMA_ERROR__VERSION_MISMATCH:()=>vt,CODAMA_ERROR__VISITORS__ACCOUNT_FIELD_NOT_FOUND:()=>At,CODAMA_ERROR__VISITORS__CANNOT_ADD_DUPLICATED_PDA_NAMES:()=>gt,CODAMA_ERROR__VISITORS__CANNOT_EXTEND_MISSING_VISIT_FUNCTION:()=>St,CODAMA_ERROR__VISITORS__CANNOT_FLATTEN_STRUCT_WITH_CONFLICTING_ATTRIBUTES:()=>Oe,CODAMA_ERROR__VISITORS__CANNOT_REMOVE_LAST_PATH_IN_NODE_STACK:()=>bt,CODAMA_ERROR__VISITORS__CANNOT_USE_OPTIONAL_ACCOUNT_AS_PDA_SEED_VALUE:()=>Vt,CODAMA_ERROR__VISITORS__CYCLIC_DEPENDENCY_DETECTED_WHEN_RESOLVING_INSTRUCTION_DEFAULT_VALUES:()=>ht,CODAMA_ERROR__VISITORS__FAILED_TO_VALIDATE_NODE:()=>Et,CODAMA_ERROR__VISITORS__INSTRUCTION_ENUM_ARGUMENT_NOT_FOUND:()=>Fe,CODAMA_ERROR__VISITORS__INVALID_INSTRUCTION_DEFAULT_VALUE_DEPENDENCY:()=>Le,CODAMA_ERROR__VISITORS__INVALID_NUMBER_WRAPPER:()=>Ot,CODAMA_ERROR__VISITORS__INVALID_PDA_SEED_VALUES:()=>Tt,CODAMA_ERROR__VISITORS__RENDER_MAP_KEY_NOT_FOUND:()=>qn,CONTEXTUAL_VALUE_NODES:()=>ti,COUNT_NODES:()=>qe,CodamaError:()=>A,DISCRIMINATOR_NODES:()=>yr,ENUM_VARIANT_TYPE_NODES:()=>Or,INSTRUCTION_INPUT_VALUE_NODES:()=>ue,LINKABLE_NODES:()=>Vn,LINK_NODES:()=>Qa,LOG_LEVELS:()=>_a,LinkableDictionary:()=>F,NodeStack:()=>U,PDA_SEED_NODES:()=>hr,REGISTERED_CONTEXTUAL_VALUE_NODE_KINDS:()=>ei,REGISTERED_COUNT_NODE_KINDS:()=>fr,REGISTERED_DISCRIMINATOR_NODE_KINDS:()=>mr,REGISTERED_LINK_NODE_KINDS:()=>cr,REGISTERED_NODE_KINDS:()=>$,REGISTERED_PDA_SEED_NODE_KINDS:()=>Tr,REGISTERED_TYPE_NODE_KINDS:()=>Rt,REGISTERED_VALUE_NODE_KINDS:()=>Qn,STANDALONE_CONTEXTUAL_VALUE_NODE_KINDS:()=>ir,STANDALONE_TYPE_NODE_KINDS:()=>_r,STANDALONE_VALUE_NODE_KINDS:()=>nr,TYPE_NODES:()=>_,VALUE_NODES:()=>C,accountBumpValueNode:()=>Xa,accountLinkNode:()=>$e,accountNode:()=>X,accountValueNode:()=>Me,addPdasVisitor:()=>Bu,amountTypeNode:()=>Ke,argumentValueNode:()=>je,arrayTypeNode:()=>He,arrayValueNode:()=>Mr,assertIsNestedTypeNode:()=>Z,assertIsNode:()=>f,assertIsNodeFilter:()=>Xe,assertIsNodePath:()=>ha,booleanTypeNode:()=>Ar,booleanValueNode:()=>fs,bottomUpTransformerVisitor:()=>E,bytesTypeNode:()=>Ge,bytesValueNode:()=>vr,camelCase:()=>v,capitalize:()=>Xn,conditionalValueNode:()=>rr,consoleLogVisitor:()=>ju,constantDiscriminatorNode:()=>pr,constantPdaSeedNode:()=>Ee,constantPdaSeedNodeFromBytes:()=>os,constantPdaSeedNodeFromProgramId:()=>ns,constantPdaSeedNodeFromString:()=>is,constantValueNode:()=>et,constantValueNodeFromBytes:()=>ps,constantValueNodeFromString:()=>ds,createFromJson:()=>Tc,createFromRoot:()=>xn,createSubInstructionsFromEnumArgsVisitor:()=>Ku,dateTimeTypeNode:()=>We,deduplicateIdenticalDefinedTypesVisitor:()=>Hu,deduplicateInstructionDependencies:()=>Tn,definedTypeLinkNode:()=>oe,definedTypeNode:()=>tt,deleteNodesVisitor:()=>En,enumEmptyVariantTypeNode:()=>le,enumStructVariantTypeNode:()=>ve,enumTupleVariantTypeNode:()=>Ye,enumTypeNode:()=>Je,enumValueNode:()=>jr,errorNode:()=>Wr,extendVisitor:()=>j,fieldDiscriminatorNode:()=>Be,fillDefaultPdaSeedValuesVisitor:()=>Rn,findFirstNodeFromPath:()=>Mu,findInstructionNodeFromPath:()=>vn,findLastNodeFromPath:()=>On,findProgramNodeFromPath:()=>se,fixedCountNode:()=>es,fixedSizeTypeNode:()=>Ze,flattenInstructionArguments:()=>kn,flattenInstructionDataArgumentsVisitor:()=>Gu,flattenStruct:()=>Da,flattenStructVisitor:()=>Zu,getAllAccounts:()=>vs,getAllDefinedTypes:()=>Jr,getAllErrors:()=>gs,getAllInstructionArguments:()=>ee,getAllInstructions:()=>oi,getAllInstructionsWithSubs:()=>tr,getAllPdas:()=>Ns,getAllPrograms:()=>Q,getByteSizeVisitor:()=>bn,getCommonInstructionAccountDefaultRules:()=>ec,getConjunctiveNodeSelectorFunction:()=>An,getDebugStringVisitor:()=>$u,getDefinedTypeHistogramVisitor:()=>Pn,getInstructionDependencies:()=>Ve,getLastNodeFromPath:()=>R,getLevelIndex:()=>ft,getNodePathUntilLastNode:()=>gn,getNodeSelectorFunction:()=>Yt,getRecordLinkablesVisitor:()=>Zt,getResolvedInstructionInputsVisitor:()=>In,getUniqueHashStringVisitor:()=>Dn,getValidationItemsVisitor:()=>zu,getVisitFunctionName:()=>re,hiddenPrefixTypeNode:()=>Sr,hiddenSuffixTypeNode:()=>Er,identityValueNode:()=>or,identityVisitor:()=>Ce,instructionAccountLinkNode:()=>sr,instructionAccountNode:()=>be,instructionArgumentLinkNode:()=>ur,instructionArgumentNode:()=>x,instructionByteDeltaNode:()=>Yr,instructionLinkNode:()=>Ue,instructionNode:()=>M,instructionRemainingAccountsNode:()=>Zr,interceptFirstVisitVisitor:()=>Ea,interceptVisitor:()=>ne,isCodamaError:()=>Ga,isDataEnum:()=>ls,isDecimal:()=>cs,isFilledNodePath:()=>Sn,isInteger:()=>us,isNestedTypeNode:()=>ni,isNode:()=>y,isNodeFilter:()=>Ir,isNodePath:()=>pe,isScalarEnum:()=>kt,isSignedInteger:()=>as,isUnsignedInteger:()=>ss,kebabCase:()=>Ja,logError:()=>Ka,logInfo:()=>Wa,logWarn:()=>Ha,mapEntryValueNode:()=>$r,mapTypeNode:()=>br,mapValueNode:()=>Ur,mapVisitor:()=>lt,mergeVisitor:()=>me,nodePathToString:()=>Aa,nodePathToStringArray:()=>Va,nonNullableIdentityVisitor:()=>ie,noneValueNode:()=>ms,numberTypeNode:()=>ce,numberValueNode:()=>zr,optionTypeNode:()=>Dr,parseDocs:()=>K,parseOptionalAccountStrategy:()=>ai,pascalCase:()=>It,payerValueNode:()=>ar,pdaLinkNode:()=>Ne,pdaNode:()=>te,pdaSeedValueNode:()=>Se,pdaValueNode:()=>ze,pipe:()=>b,postOffsetTypeNode:()=>kr,preOffsetTypeNode:()=>Rr,prefixedCountNode:()=>dr,programIdValueNode:()=>Dt,programLinkNode:()=>ye,programNode:()=>W,publicKeyTypeNode:()=>ri,publicKeyValueNode:()=>P,recordLinkablesOnFirstVisitVisitor:()=>q,recordNodeStackVisitor:()=>z,remainderCountNode:()=>ts,remainderOptionTypeNode:()=>Pr,removeDocsVisitor:()=>Sa,removeNullAndAssertIsNodeFilter:()=>I,resolveNestedTypeNode:()=>ge,resolverValueNode:()=>lr,rootNode:()=>Xr,rootNodeVisitor:()=>Ae,safeCaptureStackTrace:()=>Ya,sentinelTypeNode:()=>Cr,setAccountDiscriminatorFromFieldVisitor:()=>Xu,setFixedAccountSizesVisitor:()=>Qu,setInstructionAccountDefaultValuesVisitor:()=>tc,setInstructionDiscriminatorsVisitor:()=>rc,setNumberWrappersVisitor:()=>nc,setStructDefaultValuesVisitor:()=>ic,setTypeNode:()=>xr,setValueNode:()=>qr,singleNodeVisitor:()=>_n,sizeDiscriminatorNode:()=>rs,sizePrefixTypeNode:()=>wr,snakeCase:()=>Za,solAmountTypeNode:()=>Qe,someValueNode:()=>Br,staticVisitor:()=>Wt,stringTypeNode:()=>Nr,stringValueNode:()=>gr,structFieldTypeNode:()=>J,structFieldTypeNodeFromInstructionArgumentNode:()=>ii,structFieldValueNode:()=>Gr,structTypeNode:()=>H,structTypeNodeFromInstructionArgumentNodes:()=>ys,structValueNode:()=>Kr,tapVisitor:()=>Uu,throwValidatorItemsVisitor:()=>qu,titleCase:()=>_t,topDownTransformerVisitor:()=>Jt,transformDefinedTypesIntoAccountsVisitor:()=>oc,transformNestedTypeNode:()=>fe,transformU8ArraysToBytesVisitor:()=>ac,tupleTypeNode:()=>Lr,tupleValueNode:()=>Hr,unwrapDefinedTypesVisitor:()=>Cn,unwrapInstructionArgsDefinedTypesVisitor:()=>sc,unwrapTupleEnumWithSingleStructVisitor:()=>uc,unwrapTypeDefinedLinksVisitor:()=>cc,updateAccountsVisitor:()=>dc,updateDefinedTypesVisitor:()=>pc,updateErrorsVisitor:()=>mc,updateInstructionsVisitor:()=>yc,updateProgramsVisitor:()=>gc,validateCodamaVersion:()=>Ra,validationItem:()=>D,variablePdaSeedNode:()=>Vr,visit:()=>g,visitOrElse:()=>Fu,voidVisitor:()=>ba,zeroableOptionTypeNode:()=>Fr});var pt=1,mt=2,yt=3,Nt=4,Fn=5,vt=6,Mn=7,jn=8,$n=9,Un=10,zn=11,gt=12e5,Tt=1200001,ht=1200002,Vt=1200003,Le=1200004,At=1200005,Ot=1200006,St=1200007,Et=1200008,Fe=1200009,Oe=1200010,qn=1200011,bt=1200012,Bn=21e5,Gn=2100001,Kn=2100002,Hn=2100003,Wn=2100004,Yn=2100005,Jn=28e5;function Zn(e){return Array.isArray(e)?"%5B"+e.map(Zn).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function za([e,t]){return`${e}=${Zn(t)}`}function qa(e){let t=Object.entries(e).map(za).join("&");return btoa(t)}var Ac={[Gn]:"Account type [$name] is missing from the IDL types.",[Kn]:"Argument name [$name] is missing from the instruction definition.",[Yn]:"Program ID kind [$kind] is not implemented.",[Wn]:"Seed kind [$kind] is not implemented.",[Hn]:"Field type is missing for path [$path] in [$idlType].",[Bn]:"Unrecognized Anchor IDL type [$idlType].",[zn]:"Discriminator field [$field] has no default value.",[Un]:"Could not find discriminator field [$field]",[$n]:"Enum variant [$variant] not found in enum type [$enumName].",[Nt]:"Could not find linked node [$name] from [$kind].",[Fn]:"Node.js filesystem function [$fsFunction] is not available in your environment.",[Jn]:"Cannot render the encountered node of kind [$kind].",[yt]:"Expected nested node of kind [$expectedKinds], got [$kind]",[mt]:"Expected node of kind [$expectedKinds], got [$kind].",[jn]:"Unrecognized bytes encoding [$encoding].",[pt]:"Unrecognized node kind [$kind].",[Mn]:"Unrecognized number format [$format].",[vt]:"The provided RootNode version [$rootVersion] is not compatible with the installed Codama version [$codamaVersion].",[At]:"Account [$name] does not have a field named [$missingField].",[gt]:"Cannot add PDAs to program [$programName] because the following PDA names already exist [$duplicatedPdaNames].",[St]:"Cannot extend visitor with function [$visitFunction] as the base visitor does not support it.",[Oe]:"Cannot flatten struct since this would cause the following attributes to conflict [$conflictingAttributes].",[bt]:"Cannot remove the last path in the node stack.",[Vt]:"Cannot use optional account [$seedValueName] as the [$seedName] PDA seed for the [$instructionAccountName] account of the [$instructionName] instruction.",[ht]:"Circular dependency detected when resolving the accounts and arguments' default values of the [$instructionName] instruction. Got the following dependency cycle [$formattedCycle].",[Et]:"Failed to validate the given node [$formattedHistogram].",[Fe]:"Could not find an enum argument named [$argumentName] for instruction [$instructionName].",[Le]:"Dependency [$dependencyName] of kind [$dependencyKind] is not a valid dependency of [$parentName] of kind [$parentKind] in the [$instructionName] instruction.",[Ot]:"Invalid number wrapper kind [$wrapper].",[Tt]:"Invalid seed values for PDA [$pdaName] in instruction [$instructionName].",[qn]:"Cannot find key [$key] in RenderMap."};function Ba(e,t={}){{let n=`Codama error #${e}; Decode this error by running \`npx @codama/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${qa(t)}'`),`${n}\``}}function Ga(e,t){return e instanceof Error&&e.name==="CodamaError"?t!==void 0?e.context.__code===t:!0:!1}var A=class extends Error{constructor(...[t,n]){let r,u;if(n){let{cause:s,...a}=n;s&&(u={cause:s}),Object.keys(a).length>0&&(r=a)}let o=Ba(t,r);super(o,u);we(this,"context");this.context={__code:t,...r},this.name="CodamaError"}};function Ka(e){console.error(e)}function Ha(e){console.warn(e)}function Wa(e){console.log(e)}function Ya(...e){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...e)}function K(e){return e==null?[]:Array.isArray(e)?e:[e]}function Xn(e){return e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function _t(e){return e.replace(/([A-Z])/g," $1").split(/[^a-zA-Z0-9]+/).filter(t=>t.length>0).map(Xn).join(" ")}function It(e){return _t(e).split(" ").join("")}function v(e){if(e.length===0)return e;let t=It(e);return t.charAt(0).toLowerCase()+t.slice(1)}function Ja(e){return _t(e).split(" ").join("-").toLowerCase()}function Za(e){return _t(e).split(" ").join("_").toLowerCase()}function Xa(e){return Object.freeze({kind:"accountBumpValueNode",name:v(e)})}function Me(e){return Object.freeze({kind:"accountValueNode",name:v(e)})}function je(e){return Object.freeze({kind:"argumentValueNode",name:v(e)})}function rr(e){return Object.freeze({kind:"conditionalValueNode",condition:e.condition,...e.value!==void 0&&{value:e.value},...e.ifTrue!==void 0&&{ifTrue:e.ifTrue},...e.ifFalse!==void 0&&{ifFalse:e.ifFalse}})}var nr=["arrayValueNode","bytesValueNode","booleanValueNode","constantValueNode","enumValueNode","mapValueNode","noneValueNode","numberValueNode","setValueNode","someValueNode","structValueNode","tupleValueNode","publicKeyValueNode","stringValueNode"],Qn=[...nr,"mapEntryValueNode","structFieldValueNode"],C=nr,ir=["accountBumpValueNode","accountValueNode","argumentValueNode","conditionalValueNode","identityValueNode","payerValueNode","pdaValueNode","programIdValueNode","resolverValueNode"],ei=[...ir,"pdaSeedValueNode"],ti=ir,ue=[...C,...ti,"programLinkNode"];function or(){return Object.freeze({kind:"identityValueNode"})}function ar(){return Object.freeze({kind:"payerValueNode"})}function Se(e,t){return Object.freeze({kind:"pdaSeedValueNode",name:v(e),value:t})}function ye(e){return Object.freeze({kind:"programLinkNode",name:v(e)})}function $e(e,t){return Object.freeze({kind:"accountLinkNode",...t===void 0?{}:{program:typeof t=="string"?ye(t):t},name:v(e)})}function oe(e,t){return Object.freeze({kind:"definedTypeLinkNode",...t===void 0?{}:{program:typeof t=="string"?ye(t):t},name:v(e)})}function Ue(e,t){return Object.freeze({kind:"instructionLinkNode",...t===void 0?{}:{program:typeof t=="string"?ye(t):t},name:v(e)})}function sr(e,t){return Object.freeze({kind:"instructionAccountLinkNode",...t===void 0?{}:{instruction:typeof t=="string"?Ue(t):t},name:v(e)})}function ur(e,t){return Object.freeze({kind:"instructionArgumentLinkNode",...t===void 0?{}:{instruction:typeof t=="string"?Ue(t):t},name:v(e)})}var cr=["accountLinkNode","definedTypeLinkNode","instructionAccountLinkNode","instructionArgumentLinkNode","instructionLinkNode","pdaLinkNode","programLinkNode"],Qa=cr;function Ne(e,t){return Object.freeze({kind:"pdaLinkNode",...t===void 0?{}:{program:typeof t=="string"?ye(t):t},name:v(e)})}function ze(e,t=[]){return Object.freeze({kind:"pdaValueNode",pda:typeof e=="string"?Ne(e):e,seeds:t})}function Dt(){return Object.freeze({kind:"programIdValueNode"})}function lr(e,t={}){return Object.freeze({kind:"resolverValueNode",name:v(e),docs:K(t.docs),dependsOn:t.dependsOn})}var fr=["fixedCountNode","remainderCountNode","prefixedCountNode"],qe=fr;function es(e){return Object.freeze({kind:"fixedCountNode",value:e})}function dr(e){return Object.freeze({kind:"prefixedCountNode",prefix:e})}function ts(){return Object.freeze({kind:"remainderCountNode"})}function pr(e,t=0){return Object.freeze({kind:"constantDiscriminatorNode",offset:t,constant:e})}var mr=["constantDiscriminatorNode","fieldDiscriminatorNode","sizeDiscriminatorNode"],yr=mr;function Be(e,t=0){return Object.freeze({kind:"fieldDiscriminatorNode",name:v(e),offset:t})}function rs(e){return Object.freeze({kind:"sizeDiscriminatorNode",size:e})}function Ge(){return Object.freeze({kind:"bytesTypeNode"})}function ri(){return Object.freeze({kind:"publicKeyTypeNode"})}function Nr(e){return Object.freeze({kind:"stringTypeNode",encoding:e})}function vr(e,t){return Object.freeze({kind:"bytesValueNode",data:t,encoding:e})}function gr(e){return Object.freeze({kind:"stringValueNode",string:e})}function Ee(e,t){return Object.freeze({kind:"constantPdaSeedNode",type:e,value:t})}function ns(){return Ee(ri(),Dt())}function is(e,t){return Ee(Nr(e),gr(t))}function os(e,t){return Ee(Ge(),vr(e,t))}var Tr=["constantPdaSeedNode","variablePdaSeedNode"],hr=Tr;function Vr(e,t,n){return Object.freeze({kind:"variablePdaSeedNode",name:v(e),docs:K(n),type:t})}function Ke(e,t,n){return Object.freeze({kind:"amountTypeNode",decimals:t,...n!==void 0&&{unit:n},number:e})}function He(e,t){return Object.freeze({kind:"arrayTypeNode",item:e,count:t})}function ce(e,t="le"){return Object.freeze({kind:"numberTypeNode",format:e,endian:t})}function as(e){return e.format.startsWith("i")}function ss(e){return e.format.startsWith("u")||e.format==="shortU16"}function us(e){return!e.format.startsWith("f")}function cs(e){return e.format.startsWith("f")}function Ar(e){return Object.freeze({kind:"booleanTypeNode",size:e!=null?e:ce("u8")})}function We(e){return Object.freeze({kind:"dateTimeTypeNode",number:e})}function le(e,t){return Object.freeze({kind:"enumEmptyVariantTypeNode",name:v(e),discriminator:t})}function ve(e,t,n){return Object.freeze({kind:"enumStructVariantTypeNode",name:v(e),...n!==void 0&&{discriminator:n},struct:t})}function Ye(e,t,n){return Object.freeze({kind:"enumTupleVariantTypeNode",name:v(e),...n!==void 0&&{discriminator:n},tuple:t})}function Je(e,t={}){var n;return Object.freeze({kind:"enumTypeNode",variants:e,size:(n=t.size)!=null?n:ce("u8")})}function kt(e){return e.variants.every(t=>t.kind==="enumEmptyVariantTypeNode")}function ls(e){return!kt(e)}var Or=["enumEmptyVariantTypeNode","enumStructVariantTypeNode","enumTupleVariantTypeNode"];function Ze(e,t){return Object.freeze({kind:"fixedSizeTypeNode",size:t,type:e})}function Sr(e,t){return Object.freeze({kind:"hiddenPrefixTypeNode",type:e,prefix:t})}function Er(e,t){return Object.freeze({kind:"hiddenSuffixTypeNode",type:e,suffix:t})}function br(e,t,n){return Object.freeze({kind:"mapTypeNode",key:e,value:t,count:n})}var _r=["amountTypeNode","arrayTypeNode","booleanTypeNode","bytesTypeNode","dateTimeTypeNode","enumTypeNode","fixedSizeTypeNode","hiddenPrefixTypeNode","hiddenSuffixTypeNode","mapTypeNode","numberTypeNode","optionTypeNode","postOffsetTypeNode","preOffsetTypeNode","publicKeyTypeNode","remainderOptionTypeNode","sentinelTypeNode","setTypeNode","sizePrefixTypeNode","solAmountTypeNode","stringTypeNode","structTypeNode","tupleTypeNode","zeroableOptionTypeNode"],Rt=[..._r,"structFieldTypeNode","enumEmptyVariantTypeNode","enumStructVariantTypeNode","enumTupleVariantTypeNode"],_=[..._r,"definedTypeLinkNode"],$=[...ei,...mr,...cr,...Tr,...fr,...Rt,...Qn,"rootNode","programNode","pdaNode","accountNode","instructionAccountNode","instructionArgumentNode","instructionByteDeltaNode","instructionNode","instructionRemainingAccountsNode","errorNode","definedTypeNode"];function y(e,t){let n=Array.isArray(t)?t:[t];return!!e&&n.includes(e.kind)}function f(e,t){var r;let n=Array.isArray(t)?t:[t];if(!y(e,n))throw new A(mt,{expectedKinds:n,kind:(r=e==null?void 0:e.kind)!=null?r:null,node:e})}function Ir(e){return t=>y(t,e)}function Xe(e){return t=>(f(t,e),!0)}function I(e){return t=>(t&&f(t,e),t!=null)}function ge(e){switch(e.kind){case"fixedSizeTypeNode":case"hiddenPrefixTypeNode":case"hiddenSuffixTypeNode":case"postOffsetTypeNode":case"preOffsetTypeNode":case"sentinelTypeNode":case"sizePrefixTypeNode":return ge(e.type);default:return e}}function fe(e,t){switch(e.kind){case"fixedSizeTypeNode":case"hiddenPrefixTypeNode":case"hiddenSuffixTypeNode":case"postOffsetTypeNode":case"preOffsetTypeNode":case"sentinelTypeNode":case"sizePrefixTypeNode":return Object.freeze({...e,type:fe(e.type,t)});default:return t(e)}}function ni(e,t){if(!y(e,_))return!1;let n=Array.isArray(t)?t:[t],r=ge(e);return!!e&&n.includes(r.kind)}function Z(e,t){var r;let n=Array.isArray(t)?t:[t];if(!ni(e,n))throw new A(yt,{expectedKinds:n,kind:(r=e==null?void 0:e.kind)!=null?r:null,node:e})}function Dr(e,t={}){var n,r;return Object.freeze({kind:"optionTypeNode",fixed:(n=t.fixed)!=null?n:!1,item:e,prefix:(r=t.prefix)!=null?r:ce("u8")})}function kr(e,t,n){return Object.freeze({kind:"postOffsetTypeNode",offset:t,strategy:n!=null?n:"relative",type:e})}function Rr(e,t,n){return Object.freeze({kind:"preOffsetTypeNode",offset:t,strategy:n!=null?n:"relative",type:e})}function Pr(e){return Object.freeze({kind:"remainderOptionTypeNode",item:e})}function Cr(e,t){return Object.freeze({kind:"sentinelTypeNode",type:e,sentinel:t})}function xr(e,t){return Object.freeze({kind:"setTypeNode",item:e,count:t})}function wr(e,t){return Object.freeze({kind:"sizePrefixTypeNode",type:e,prefix:t})}function Qe(e){return Object.freeze({kind:"solAmountTypeNode",number:e})}function J(e){return Object.freeze({kind:"structFieldTypeNode",name:v(e.name),...e.defaultValueStrategy!==void 0&&{defaultValueStrategy:e.defaultValueStrategy},docs:K(e.docs),type:e.type,...e.defaultValue!==void 0&&{defaultValue:e.defaultValue}})}function H(e){return Object.freeze({kind:"structTypeNode",fields:e})}function Lr(e){return Object.freeze({kind:"tupleTypeNode",items:e})}function Fr(e,t){return Object.freeze({kind:"zeroableOptionTypeNode",item:e,...t!==void 0&&{zeroValue:t}})}function Mr(e){return Object.freeze({kind:"arrayValueNode",items:e})}function fs(e){return Object.freeze({kind:"booleanValueNode",boolean:e})}function et(e,t){return Object.freeze({kind:"constantValueNode",type:e,value:t})}function ds(e,t){return et(Nr(e),gr(t))}function ps(e,t){return et(Ge(),vr(e,t))}function jr(e,t,n){return Object.freeze({kind:"enumValueNode",variant:v(t),enum:typeof e=="string"?oe(e):e,...n!==void 0&&{value:n}})}function $r(e,t){return Object.freeze({kind:"mapEntryValueNode",key:e,value:t})}function Ur(e){return Object.freeze({kind:"mapValueNode",entries:e})}function ms(){return Object.freeze({kind:"noneValueNode"})}function zr(e){return Object.freeze({kind:"numberValueNode",number:e})}function P(e,t){return Object.freeze({kind:"publicKeyValueNode",publicKey:e,...t!==void 0&&{identifier:v(t)}})}function qr(e){return Object.freeze({kind:"setValueNode",items:e})}function Br(e){return Object.freeze({kind:"someValueNode",value:e})}function Gr(e,t){return Object.freeze({kind:"structFieldValueNode",name:v(e),value:t})}function Kr(e){return Object.freeze({kind:"structValueNode",fields:e})}function Hr(e){return Object.freeze({kind:"tupleValueNode",items:e})}function X(e){var t;return Object.freeze({kind:"accountNode",name:v(e.name),...e.size===void 0?{}:{size:e.size},docs:K(e.docs),data:(t=e.data)!=null?t:H([]),...e.pda!==void 0&&{pda:e.pda},...e.discriminators!==void 0&&{discriminators:e.discriminators}})}function tt(e){return Object.freeze({kind:"definedTypeNode",name:v(e.name),docs:K(e.docs),type:e.type})}function Wr(e){return Object.freeze({kind:"errorNode",name:v(e.name),code:e.code,message:e.message,docs:K(e.docs)})}function be(e){var t;return Object.freeze({kind:"instructionAccountNode",name:v(e.name),isWritable:e.isWritable,isSigner:e.isSigner,isOptional:(t=e.isOptional)!=null?t:!1,docs:K(e.docs),...e.defaultValue!==void 0&&{defaultValue:e.defaultValue}})}function x(e){return Object.freeze({kind:"instructionArgumentNode",name:v(e.name),...e.defaultValueStrategy!==void 0&&{defaultValueStrategy:e.defaultValueStrategy},docs:K(e.docs),type:e.type,...e.defaultValue!==void 0&&{defaultValue:e.defaultValue}})}function ys(e){return H(e.map(ii))}function ii(e){return y(e.defaultValue,C)?J({...e,defaultValue:e.defaultValue}):J({...e,defaultValue:void 0,defaultValueStrategy:void 0})}function Yr(e,t={}){var n;return Object.freeze({kind:"instructionByteDeltaNode",withHeader:(n=t.withHeader)!=null?n:!y(e,"resolverValueNode"),...t.subtract!==void 0&&{subtract:t.subtract},value:e})}function W(e){var t,n,r,u,o,s;return Object.freeze({kind:"programNode",name:v(e.name),publicKey:e.publicKey,version:(t=e.version)!=null?t:"0.0.0",...e.origin!==void 0&&{origin:e.origin},docs:K(e.docs),accounts:(n=e.accounts)!=null?n:[],instructions:(r=e.instructions)!=null?r:[],definedTypes:(u=e.definedTypes)!=null?u:[],pdas:(o=e.pdas)!=null?o:[],errors:(s=e.errors)!=null?s:[]})}function Q(e){return Array.isArray(e)?e:e.kind==="programNode"?[e]:[e.program,...e.additionalPrograms]}function Ns(e){return Q(e).flatMap(t=>t.pdas)}function vs(e){return Q(e).flatMap(t=>t.accounts)}function Jr(e){return Q(e).flatMap(t=>t.definedTypes)}function oi(e){return Q(e).flatMap(t=>t.instructions)}function gs(e){return Q(e).flatMap(t=>t.errors)}function M(e){var t,n;return Object.freeze({kind:"instructionNode",name:v(e.name),docs:K(e.docs),optionalAccountStrategy:ai(e.optionalAccountStrategy),accounts:(t=e.accounts)!=null?t:[],arguments:(n=e.arguments)!=null?n:[],extraArguments:e.extraArguments,remainingAccounts:e.remainingAccounts,byteDeltas:e.byteDeltas,discriminators:e.discriminators,subInstructions:e.subInstructions})}function ai(e){return e!=null?e:"programId"}function ee(e){var t;return[...e.arguments,...(t=e.extraArguments)!=null?t:[]]}function tr(e,t={}){let{leavesOnly:n=!1,subInstructionsFirst:r=!1}=t;if(y(e,"instructionNode")){if(!e.subInstructions||e.subInstructions.length===0)return[e];let o=e.subInstructions.flatMap(s=>tr(s,t));return n?o:r?[...o,e]:[e,...o]}return(y(e,"programNode")?e.instructions:oi(e)).flatMap(o=>tr(o,t))}function Zr(e,t={}){return Object.freeze({kind:"instructionRemainingAccountsNode",...t.isOptional!==void 0&&{isOptional:t.isOptional},...t.isSigner!==void 0&&{isSigner:t.isSigner},...t.isWritable!==void 0&&{isWritable:t.isWritable},docs:K(t.docs),value:e})}function te(e){return Object.freeze({kind:"pdaNode",name:v(e.name),docs:K(e.docs),...e.programId&&{programId:e.programId},seeds:e.seeds})}function Xr(e,t){return Object.freeze({kind:"rootNode",standard:"codama",version:"1.3.0",program:e,additionalPrograms:t!=null?t:[]})}var hn=$a(ga(),1);function g(e,t){let n=re(e.kind);return t[n](e)}function Fu(e,t,n){let r=re(e.kind);return(r in t?t[r]:n)(e)}function re(e){if(!$.includes(e))throw new A(pt,{kind:e});return`visit${It(e.slice(0,-4))}`}function Wt(e,t={}){var u;let n=(u=t.keys)!=null?u:$,r={};return n.forEach(o=>{r[re(o)]=e.bind(r)}),r}function Ce(e={}){var u;let t=(u=e.keys)!=null?u:$,n=Wt(o=>Object.freeze({...o}),{keys:t}),r=o=>s=>t.includes(s.kind)?g(s,o):Object.freeze({...s});return t.includes("rootNode")&&(n.visitRoot=function(s){let a=r(this)(s.program);return a===null?null:(f(a,"programNode"),Xr(a,s.additionalPrograms.map(r(this)).filter(I("programNode"))))}),t.includes("programNode")&&(n.visitProgram=function(s){return W({...s,accounts:s.accounts.map(r(this)).filter(I("accountNode")),definedTypes:s.definedTypes.map(r(this)).filter(I("definedTypeNode")),errors:s.errors.map(r(this)).filter(I("errorNode")),instructions:s.instructions.map(r(this)).filter(I("instructionNode")),pdas:s.pdas.map(r(this)).filter(I("pdaNode"))})}),t.includes("pdaNode")&&(n.visitPda=function(s){return te({...s,seeds:s.seeds.map(r(this)).filter(I(hr))})}),t.includes("accountNode")&&(n.visitAccount=function(s){var c;let a=r(this)(s.data);if(a===null)return null;f(a,"structTypeNode");let i=s.pda&&(c=r(this)(s.pda))!=null?c:void 0;return i&&f(i,"pdaLinkNode"),X({...s,data:a,pda:i})}),t.includes("instructionNode")&&(n.visitInstruction=function(s){return M({...s,accounts:s.accounts.map(r(this)).filter(I("instructionAccountNode")),arguments:s.arguments.map(r(this)).filter(I("instructionArgumentNode")),byteDeltas:s.byteDeltas?s.byteDeltas.map(r(this)).filter(I("instructionByteDeltaNode")):void 0,discriminators:s.discriminators?s.discriminators.map(r(this)).filter(I(yr)):void 0,extraArguments:s.extraArguments?s.extraArguments.map(r(this)).filter(I("instructionArgumentNode")):void 0,remainingAccounts:s.remainingAccounts?s.remainingAccounts.map(r(this)).filter(I("instructionRemainingAccountsNode")):void 0,subInstructions:s.subInstructions?s.subInstructions.map(r(this)).filter(I("instructionNode")):void 0})}),t.includes("instructionAccountNode")&&(n.visitInstructionAccount=function(s){var i;let a=s.defaultValue&&(i=r(this)(s.defaultValue))!=null?i:void 0;return a&&f(a,ue),be({...s,defaultValue:a})}),t.includes("instructionArgumentNode")&&(n.visitInstructionArgument=function(s){var c;let a=r(this)(s.type);if(a===null)return null;f(a,_);let i=s.defaultValue&&(c=r(this)(s.defaultValue))!=null?c:void 0;return i&&f(i,ue),x({...s,defaultValue:i,type:a})}),t.includes("instructionRemainingAccountsNode")&&(n.visitInstructionRemainingAccounts=function(s){let a=r(this)(s.value);return a===null?null:(f(a,["argumentValueNode","resolverValueNode"]),Zr(a,{...s}))}),t.includes("instructionByteDeltaNode")&&(n.visitInstructionByteDelta=function(s){let a=r(this)(s.value);return a===null?null:(f(a,["numberValueNode","accountLinkNode","argumentValueNode","resolverValueNode"]),Yr(a,{...s}))}),t.includes("definedTypeNode")&&(n.visitDefinedType=function(s){let a=r(this)(s.type);return a===null?null:(f(a,_),tt({...s,type:a}))}),t.includes("arrayTypeNode")&&(n.visitArrayType=function(s){let a=r(this)(s.count);if(a===null)return null;f(a,qe);let i=r(this)(s.item);return i===null?null:(f(i,_),He(i,a))}),t.includes("enumTypeNode")&&(n.visitEnumType=function(s){return Je(s.variants.map(r(this)).filter(I(Or)),{size:s.size})}),t.includes("enumStructVariantTypeNode")&&(n.visitEnumStructVariantType=function(s){let a=r(this)(s.struct);return a?(f(a,"structTypeNode"),a.fields.length===0?le(s.name):ve(s.name,a)):le(s.name)}),t.includes("enumTupleVariantTypeNode")&&(n.visitEnumTupleVariantType=function(s){let a=r(this)(s.tuple);return a?(f(a,"tupleTypeNode"),a.items.length===0?le(s.name):Ye(s.name,a)):le(s.name)}),t.includes("mapTypeNode")&&(n.visitMapType=function(s){let a=r(this)(s.count);if(a===null)return null;f(a,qe);let i=r(this)(s.key);if(i===null)return null;f(i,_);let c=r(this)(s.value);return c===null?null:(f(c,_),br(i,c,a))}),t.includes("optionTypeNode")&&(n.visitOptionType=function(s){let a=r(this)(s.prefix);if(a===null)return null;Z(a,"numberTypeNode");let i=r(this)(s.item);return i===null?null:(f(i,_),Dr(i,{...s,prefix:a}))}),t.includes("zeroableOptionTypeNode")&&(n.visitZeroableOptionType=function(s){var c;let a=r(this)(s.item);if(a===null)return null;f(a,_);let i=s.zeroValue&&(c=r(this)(s.zeroValue))!=null?c:void 0;return i&&f(i,"constantValueNode"),Fr(a,i)}),t.includes("remainderOptionTypeNode")&&(n.visitRemainderOptionType=function(s){let a=r(this)(s.item);return a===null?null:(f(a,_),Pr(a))}),t.includes("booleanTypeNode")&&(n.visitBooleanType=function(s){let a=r(this)(s.size);return a===null?null:(Z(a,"numberTypeNode"),Ar(a))}),t.includes("setTypeNode")&&(n.visitSetType=function(s){let a=r(this)(s.count);if(a===null)return null;f(a,qe);let i=r(this)(s.item);return i===null?null:(f(i,_),xr(i,a))}),t.includes("structTypeNode")&&(n.visitStructType=function(s){let a=s.fields.map(r(this)).filter(I("structFieldTypeNode"));return H(a)}),t.includes("structFieldTypeNode")&&(n.visitStructFieldType=function(s){var c;let a=r(this)(s.type);if(a===null)return null;f(a,_);let i=s.defaultValue&&(c=r(this)(s.defaultValue))!=null?c:void 0;return i&&f(i,C),J({...s,defaultValue:i,type:a})}),t.includes("tupleTypeNode")&&(n.visitTupleType=function(s){let a=s.items.map(r(this)).filter(I(_));return Lr(a)}),t.includes("amountTypeNode")&&(n.visitAmountType=function(s){let a=r(this)(s.number);return a===null?null:(Z(a,"numberTypeNode"),Ke(a,s.decimals,s.unit))}),t.includes("dateTimeTypeNode")&&(n.visitDateTimeType=function(s){let a=r(this)(s.number);return a===null?null:(Z(a,"numberTypeNode"),We(a))}),t.includes("solAmountTypeNode")&&(n.visitSolAmountType=function(s){let a=r(this)(s.number);return a===null?null:(Z(a,"numberTypeNode"),Qe(a))}),t.includes("prefixedCountNode")&&(n.visitPrefixedCount=function(s){let a=r(this)(s.prefix);return a===null?null:(Z(a,"numberTypeNode"),dr(a))}),t.includes("arrayValueNode")&&(n.visitArrayValue=function(s){return Mr(s.items.map(r(this)).filter(I(C)))}),t.includes("constantValueNode")&&(n.visitConstantValue=function(s){let a=r(this)(s.type);if(a===null)return null;f(a,_);let i=r(this)(s.value);return i===null?null:(f(i,C),et(a,i))}),t.includes("enumValueNode")&&(n.visitEnumValue=function(s){var c;let a=r(this)(s.enum);if(a===null)return null;f(a,["definedTypeLinkNode"]);let i=s.value&&(c=r(this)(s.value))!=null?c:void 0;return i&&f(i,["structValueNode","tupleValueNode"]),jr(a,s.variant,i)}),t.includes("mapValueNode")&&(n.visitMapValue=function(s){return Ur(s.entries.map(r(this)).filter(I("mapEntryValueNode")))}),t.includes("mapEntryValueNode")&&(n.visitMapEntryValue=function(s){let a=r(this)(s.key);if(a===null)return null;f(a,C);let i=r(this)(s.value);return i===null?null:(f(i,C),$r(a,i))}),t.includes("setValueNode")&&(n.visitSetValue=function(s){return qr(s.items.map(r(this)).filter(I(C)))}),t.includes("someValueNode")&&(n.visitSomeValue=function(s){let a=r(this)(s.value);return a===null?null:(f(a,C),Br(a))}),t.includes("structValueNode")&&(n.visitStructValue=function(s){return Kr(s.fields.map(r(this)).filter(I("structFieldValueNode")))}),t.includes("structFieldValueNode")&&(n.visitStructFieldValue=function(s){let a=r(this)(s.value);return a===null?null:(f(a,C),Gr(s.name,a))}),t.includes("tupleValueNode")&&(n.visitTupleValue=function(s){return Hr(s.items.map(r(this)).filter(I(C)))}),t.includes("constantPdaSeedNode")&&(n.visitConstantPdaSeed=function(s){let a=r(this)(s.type);if(a===null)return null;f(a,_);let i=r(this)(s.value);return i===null?null:(f(i,[...C,"programIdValueNode"]),Ee(a,i))}),t.includes("variablePdaSeedNode")&&(n.visitVariablePdaSeed=function(s){let a=r(this)(s.type);return a===null?null:(f(a,_),Vr(s.name,a,s.docs))}),t.includes("resolverValueNode")&&(n.visitResolverValue=function(s){var i;let a=((i=s.dependsOn)!=null?i:[]).map(r(this)).filter(I(["accountValueNode","argumentValueNode"]));return lr(s.name,{...s,dependsOn:a.length===0?void 0:a})}),t.includes("conditionalValueNode")&&(n.visitConditionalValue=function(s){var p,l,m;let a=r(this)(s.condition);if(a===null)return null;f(a,["resolverValueNode","accountValueNode","argumentValueNode"]);let i=s.value&&(p=r(this)(s.value))!=null?p:void 0;i&&f(i,C);let c=s.ifTrue&&(l=r(this)(s.ifTrue))!=null?l:void 0;c&&f(c,ue);let d=s.ifFalse&&(m=r(this)(s.ifFalse))!=null?m:void 0;return d&&f(d,ue),!c&&!d?null:rr({condition:a,ifFalse:d,ifTrue:c,value:i})}),t.includes("pdaValueNode")&&(n.visitPdaValue=function(s){let a=r(this)(s.pda);if(a===null)return null;f(a,["pdaLinkNode","pdaNode"]);let i=s.seeds.map(r(this)).filter(I("pdaSeedValueNode"));return ze(a,i)}),t.includes("pdaSeedValueNode")&&(n.visitPdaSeedValue=function(s){let a=r(this)(s.value);return a===null?null:(f(a,[...C,"accountValueNode","argumentValueNode"]),Se(s.name,a))}),t.includes("fixedSizeTypeNode")&&(n.visitFixedSizeType=function(s){let a=r(this)(s.type);return a===null?null:(f(a,_),Ze(a,s.size))}),t.includes("sizePrefixTypeNode")&&(n.visitSizePrefixType=function(s){let a=r(this)(s.prefix);if(a===null)return null;Z(a,"numberTypeNode");let i=r(this)(s.type);return i===null?null:(f(i,_),wr(i,a))}),t.includes("preOffsetTypeNode")&&(n.visitPreOffsetType=function(s){let a=r(this)(s.type);return a===null?null:(f(a,_),Rr(a,s.offset,s.strategy))}),t.includes("postOffsetTypeNode")&&(n.visitPostOffsetType=function(s){let a=r(this)(s.type);return a===null?null:(f(a,_),kr(a,s.offset,s.strategy))}),t.includes("sentinelTypeNode")&&(n.visitSentinelType=function(s){let a=r(this)(s.sentinel);if(a===null)return null;f(a,"constantValueNode");let i=r(this)(s.type);return i===null?null:(f(i,_),Cr(i,a))}),t.includes("hiddenPrefixTypeNode")&&(n.visitHiddenPrefixType=function(s){let a=r(this)(s.type);if(a===null)return null;f(a,_);let i=s.prefix.map(r(this)).filter(I("constantValueNode"));return i.length===0?a:Sr(a,i)}),t.includes("hiddenSuffixTypeNode")&&(n.visitHiddenSuffixType=function(s){let a=r(this)(s.type);if(a===null)return null;f(a,_);let i=s.suffix.map(r(this)).filter(I("constantValueNode"));return i.length===0?a:Er(a,i)}),t.includes("constantDiscriminatorNode")&&(n.visitConstantDiscriminator=function(s){let a=r(this)(s.constant);return a===null?null:(f(a,"constantValueNode"),pr(a,s.offset))}),t.includes("accountLinkNode")&&(n.visitAccountLink=function(s){var i;let a=s.program&&(i=r(this)(s.program))!=null?i:void 0;return a&&f(a,"programLinkNode"),$e(s.name,a)}),t.includes("definedTypeLinkNode")&&(n.visitDefinedTypeLink=function(s){var i;let a=s.program&&(i=r(this)(s.program))!=null?i:void 0;return a&&f(a,"programLinkNode"),oe(s.name,a)}),t.includes("instructionLinkNode")&&(n.visitInstructionLink=function(s){var i;let a=s.program&&(i=r(this)(s.program))!=null?i:void 0;return a&&f(a,"programLinkNode"),Ue(s.name,a)}),t.includes("instructionAccountLinkNode")&&(n.visitInstructionAccountLink=function(s){var i;let a=s.instruction&&(i=r(this)(s.instruction))!=null?i:void 0;return a&&f(a,"instructionLinkNode"),sr(s.name,a)}),t.includes("instructionArgumentLinkNode")&&(n.visitInstructionArgumentLink=function(s){var i;let a=s.instruction&&(i=r(this)(s.instruction))!=null?i:void 0;return a&&f(a,"instructionLinkNode"),ur(s.name,a)}),t.includes("pdaLinkNode")&&(n.visitPdaLink=function(s){var i;let a=s.program&&(i=r(this)(s.program))!=null?i:void 0;return a&&f(a,"programLinkNode"),Ne(s.name,a)}),n}function ne(e,t){let n=$.map(re);return Object.fromEntries(Object.keys(e).flatMap(r=>{let u=r;return n.includes(u)?[[u,function(s){let a=e[u];return t(s,a.bind(this))}]]:[]}))}var Yt=e=>{if(typeof e=="function")return e;let t=(o,s)=>{if(s==="*")return!0;let a=s.match(/^(?:\[([^\]]+)\])?(.*)?$/);if(!a)return!1;let[,i,c]=a,d=i?i.split("|").map(v):[];return!(d.length>0&&!d.includes(o.kind)||c&&(!("name"in o)||v(c)!==o.name))},n=(o,s)=>{if(s.length===0)return!0;if(o.length===0)return!1;let a=o.pop(),i=s.pop();return t(a,i)?n(o,s):n(o,[...s,i])},r=(o,s)=>{if(s.length===0||o.length===0)return!1;let a=o.pop(),i=s.pop();return t(a,i)&&n(o,s)},u=e.split(".");return o=>r([...o],[...u])},An=e=>{let n=(Array.isArray(e)?e:[e]).map(Yt);return r=>n.every(u=>u(r))};function R(e){return e[e.length-1]}function Mu(e,t){return e.find(n=>y(n,t))}function On(e,t){for(let n=e.length-1;n>=0;n--){let r=e[n];if(y(r,t))return r}}function se(e){return On(e,"programNode")}function vn(e){return On(e,"instructionNode")}function gn(e,t){let n=(()=>{for(let r=e.length-1;r>=0;r--){let u=e[r];if(y(u,t))return r}return-1})();if(n!==-1)return e.slice(0,n+1)}function Sn(e){return!!e&&e.length>0}function pe(e,t){return y(Sn(e)?R(e):null,t)}function ha(e,t){f(Sn(e)?R(e):null,t)}function Va(e){return e.map(t=>"name"in t?`[${t.kind}]${t.name}`:`[${t.kind}]`)}function Aa(e){return Va(e).join(" > ")}var U=class Oa{constructor(...t){we(this,"stack");this.stack=t.length===0?[[]]:[...t.map(n=>[...n])]}get currentPath(){return this.stack[this.stack.length-1]}push(t){this.currentPath.push(t)}pop(){return this.currentPath.pop()}peek(){return this.isEmpty()?void 0:this.currentPath[this.currentPath.length-1]}pushPath(t=[]){this.stack.push([...t])}popPath(){if(this.stack.length<=1)throw new A(bt,{path:[...this.stack[this.stack.length-1]]});return[...this.stack.pop()]}getPath(t){let n=[...this.currentPath];return t&&ha(n,t),n}isEmpty(){return this.currentPath.length===0}clone(){return new Oa(...this.stack)}toString(){return Aa(this.getPath())}};function b(e,...t){return t.reduce((n,r)=>r(n),e)}function z(e,t){return ne(e,(n,r)=>{t.push(n);let u=r(n);return t.pop(),u})}function E(e,t={}){var u;let n=e.map(o=>typeof o=="function"?o:(s,a)=>An(o.select)(a.getPath())?o.transform(s,a):s),r=(u=t.stack)!=null?u:new U;return b(Ce(t),o=>ne(o,(s,a)=>n.reduce((i,c)=>i===null?null:c(i,r),a(s))),o=>z(o,r))}function lt(e,t){let n=$.map(re);return Object.fromEntries(Object.keys(e).flatMap(r=>{let u=r;return n.includes(u)?[[u,o=>t(e[u](o))]]:[]}))}function ju(e){return lt(e,t=>console.log(t))}function Jt(e,t={}){var u;let n=e.map(o=>typeof o=="function"?o:(s,a)=>An(o.select)(a.getPath())?o.transform(s,a):s),r=(u=t.stack)!=null?u:new U;return b(Ce(t),o=>ne(o,(s,a)=>{let i=n.reduce((c,d)=>c===null?null:d(c,r),s);return i===null?null:a(i)}),o=>z(o,r))}function En(e,t){return Jt(e.map(n=>({select:n,transform:()=>null})),t)}function j(e,t){let n=$.map(re),r=Object.fromEntries(Object.keys(t).flatMap(u=>{if(!n.includes(u))return[];let o=u;if(!e[o])throw new A(St,{visitFunction:o});return[[o,function(a){let i=t[o],c=e[o];return i.bind(this)(a,{next:c.bind(this),self:this})}]]}));return{...e,...r}}function me(e,t,n={}){var s;let r=(s=n.keys)!=null?s:$,u=Wt(e,{keys:r}),o=a=>i=>r.includes(i.kind)?[g(i,a)]:[];return r.includes("rootNode")&&(u.visitRoot=function(i){return t(i,Q(i).flatMap(o(this)))}),r.includes("programNode")&&(u.visitProgram=function(i){return t(i,[...i.pdas.flatMap(o(this)),...i.accounts.flatMap(o(this)),...i.instructions.flatMap(o(this)),...i.definedTypes.flatMap(o(this)),...i.errors.flatMap(o(this))])}),r.includes("pdaNode")&&(u.visitPda=function(i){return t(i,i.seeds.flatMap(o(this)))}),r.includes("accountNode")&&(u.visitAccount=function(i){var c;return t(i,[...o(this)(i.data),...i.pda?o(this)(i.pda):[],...((c=i.discriminators)!=null?c:[]).flatMap(o(this))])}),r.includes("instructionNode")&&(u.visitInstruction=function(i){var c,d,p,l,m;return t(i,[...i.accounts.flatMap(o(this)),...i.arguments.flatMap(o(this)),...((c=i.extraArguments)!=null?c:[]).flatMap(o(this)),...((d=i.remainingAccounts)!=null?d:[]).flatMap(o(this)),...((p=i.byteDeltas)!=null?p:[]).flatMap(o(this)),...((l=i.discriminators)!=null?l:[]).flatMap(o(this)),...((m=i.subInstructions)!=null?m:[]).flatMap(o(this))])}),r.includes("instructionAccountNode")&&(u.visitInstructionAccount=function(i){return t(i,[...i.defaultValue?o(this)(i.defaultValue):[]])}),r.includes("instructionArgumentNode")&&(u.visitInstructionArgument=function(i){return t(i,[...o(this)(i.type),...i.defaultValue?o(this)(i.defaultValue):[]])}),r.includes("instructionRemainingAccountsNode")&&(u.visitInstructionRemainingAccounts=function(i){return t(i,o(this)(i.value))}),r.includes("instructionByteDeltaNode")&&(u.visitInstructionByteDelta=function(i){return t(i,o(this)(i.value))}),r.includes("definedTypeNode")&&(u.visitDefinedType=function(i){return t(i,o(this)(i.type))}),r.includes("arrayTypeNode")&&(u.visitArrayType=function(i){return t(i,[...o(this)(i.count),...o(this)(i.item)])}),r.includes("enumTypeNode")&&(u.visitEnumType=function(i){return t(i,[...o(this)(i.size),...i.variants.flatMap(o(this))])}),r.includes("enumStructVariantTypeNode")&&(u.visitEnumStructVariantType=function(i){return t(i,o(this)(i.struct))}),r.includes("enumTupleVariantTypeNode")&&(u.visitEnumTupleVariantType=function(i){return t(i,o(this)(i.tuple))}),r.includes("mapTypeNode")&&(u.visitMapType=function(i){return t(i,[...o(this)(i.count),...o(this)(i.key),...o(this)(i.value)])}),r.includes("optionTypeNode")&&(u.visitOptionType=function(i){return t(i,[...o(this)(i.prefix),...o(this)(i.item)])}),r.includes("zeroableOptionTypeNode")&&(u.visitZeroableOptionType=function(i){return t(i,[...o(this)(i.item),...i.zeroValue?o(this)(i.zeroValue):[]])}),r.includes("remainderOptionTypeNode")&&(u.visitRemainderOptionType=function(i){return t(i,o(this)(i.item))}),r.includes("booleanTypeNode")&&(u.visitBooleanType=function(i){return t(i,o(this)(i.size))}),r.includes("setTypeNode")&&(u.visitSetType=function(i){return t(i,[...o(this)(i.count),...o(this)(i.item)])}),r.includes("structTypeNode")&&(u.visitStructType=function(i){return t(i,i.fields.flatMap(o(this)))}),r.includes("structFieldTypeNode")&&(u.visitStructFieldType=function(i){return t(i,[...o(this)(i.type),...i.defaultValue?o(this)(i.defaultValue):[]])}),r.includes("tupleTypeNode")&&(u.visitTupleType=function(i){return t(i,i.items.flatMap(o(this)))}),r.includes("amountTypeNode")&&(u.visitAmountType=function(i){return t(i,o(this)(i.number))}),r.includes("dateTimeTypeNode")&&(u.visitDateTimeType=function(i){return t(i,o(this)(i.number))}),r.includes("solAmountTypeNode")&&(u.visitSolAmountType=function(i){return t(i,o(this)(i.number))}),r.includes("prefixedCountNode")&&(u.visitPrefixedCount=function(i){return t(i,o(this)(i.prefix))}),r.includes("arrayValueNode")&&(u.visitArrayValue=function(i){return t(i,i.items.flatMap(o(this)))}),r.includes("constantValueNode")&&(u.visitConstantValue=function(i){return t(i,[...o(this)(i.type),...o(this)(i.value)])}),r.includes("enumValueNode")&&(u.visitEnumValue=function(i){return t(i,[...o(this)(i.enum),...i.value?o(this)(i.value):[]])}),r.includes("mapValueNode")&&(u.visitMapValue=function(i){return t(i,i.entries.flatMap(o(this)))}),r.includes("mapEntryValueNode")&&(u.visitMapEntryValue=function(i){return t(i,[...o(this)(i.key),...o(this)(i.value)])}),r.includes("setValueNode")&&(u.visitSetValue=function(i){return t(i,i.items.flatMap(o(this)))}),r.includes("someValueNode")&&(u.visitSomeValue=function(i){return t(i,o(this)(i.value))}),r.includes("structValueNode")&&(u.visitStructValue=function(i){return t(i,i.fields.flatMap(o(this)))}),r.includes("structFieldValueNode")&&(u.visitStructFieldValue=function(i){return t(i,o(this)(i.value))}),r.includes("tupleValueNode")&&(u.visitTupleValue=function(i){return t(i,i.items.flatMap(o(this)))}),r.includes("constantPdaSeedNode")&&(u.visitConstantPdaSeed=function(i){return t(i,[...o(this)(i.type),...o(this)(i.value)])}),r.includes("variablePdaSeedNode")&&(u.visitVariablePdaSeed=function(i){return t(i,o(this)(i.type))}),r.includes("resolverValueNode")&&(u.visitResolverValue=function(i){var c;return t(i,((c=i.dependsOn)!=null?c:[]).flatMap(o(this)))}),r.includes("conditionalValueNode")&&(u.visitConditionalValue=function(i){return t(i,[...o(this)(i.condition),...i.value?o(this)(i.value):[],...i.ifTrue?o(this)(i.ifTrue):[],...i.ifFalse?o(this)(i.ifFalse):[]])}),r.includes("pdaValueNode")&&(u.visitPdaValue=function(i){return t(i,[...o(this)(i.pda),...i.seeds.flatMap(o(this))])}),r.includes("pdaSeedValueNode")&&(u.visitPdaSeedValue=function(i){return t(i,o(this)(i.value))}),r.includes("fixedSizeTypeNode")&&(u.visitFixedSizeType=function(i){return t(i,o(this)(i.type))}),r.includes("sizePrefixTypeNode")&&(u.visitSizePrefixType=function(i){return t(i,[...o(this)(i.prefix),...o(this)(i.type)])}),r.includes("preOffsetTypeNode")&&(u.visitPreOffsetType=function(i){return t(i,o(this)(i.type))}),r.includes("postOffsetTypeNode")&&(u.visitPostOffsetType=function(i){return t(i,o(this)(i.type))}),r.includes("sentinelTypeNode")&&(u.visitSentinelType=function(i){return t(i,[...o(this)(i.sentinel),...o(this)(i.type)])}),r.includes("hiddenPrefixTypeNode")&&(u.visitHiddenPrefixType=function(i){return t(i,[...i.prefix.flatMap(o(this)),...o(this)(i.type)])}),r.includes("hiddenSuffixTypeNode")&&(u.visitHiddenSuffixType=function(i){return t(i,[...o(this)(i.type),...i.suffix.flatMap(o(this))])}),r.includes("constantDiscriminatorNode")&&(u.visitConstantDiscriminator=function(i){return t(i,o(this)(i.constant))}),r.includes("accountLinkNode")&&(u.visitAccountLink=function(i){return t(i,i.program?o(this)(i.program):[])}),r.includes("definedTypeLinkNode")&&(u.visitDefinedTypeLink=function(i){return t(i,i.program?o(this)(i.program):[])}),r.includes("instructionLinkNode")&&(u.visitInstructionLink=function(i){return t(i,i.program?o(this)(i.program):[])}),r.includes("instructionAccountLinkNode")&&(u.visitInstructionAccountLink=function(i){return t(i,i.instruction?o(this)(i.instruction):[])}),r.includes("instructionArgumentLinkNode")&&(u.visitInstructionArgumentLink=function(i){return t(i,i.instruction?o(this)(i.instruction):[])}),r.includes("pdaLinkNode")&&(u.visitPdaLink=function(i){return t(i,i.program?o(this)(i.program):[])}),u}function bn(e,t={}){var a;let n=(a=t.stack)!=null?a:new U,r=new Map,u=[],o=i=>i.reduce((c,d)=>c===null||d===null?null:c+d,0),s=me(()=>null,(i,c)=>o(c),{keys:[...Rt,"definedTypeLinkNode","definedTypeNode","accountNode","instructionNode","instructionArgumentNode"]});return b(s,i=>j(i,{visitAccount(c,{self:d}){return g(c.data,d)},visitArrayType(c,{self:d}){if(!y(c.count,"fixedCountNode"))return null;let p=c.count.value,l=g(c.item,d),m=l!==null?l*p:null;return p===0?0:m},visitDefinedType(c,{self:d}){if(r.has(c.name))return r.get(c.name);u.push(c.name);let p=g(c.type,d);return u.pop(),r.set(c.name,p),p},visitDefinedTypeLink(c,{self:d}){let p=e.getPath(n.getPath(c.kind));if(!p)return null;let l=R(p);if(u.includes(l.name))return null;n.pushPath(p);let m=g(l,d);return n.popPath(),m},visitEnumEmptyVariantType(){return 0},visitEnumType(c,{self:d}){var N;let p=(N=g(c.size,d))!=null?N:1;if(kt(c))return p;let l=c.variants.map(V=>g(V,d));return l.every((V,k,B)=>V===B[0])&&l.length>0&&l[0]!==null?l[0]+p:null},visitFixedSizeType(c){return c.size},visitInstruction(c,{self:d}){return o(c.arguments.map(p=>g(p,d)))},visitInstructionArgument(c,{self:d}){return g(c.type,d)},visitNumberType(c){return c.format==="shortU16"?null:parseInt(c.format.slice(1),10)/8},visitOptionType(c,{self:d}){if(!c.fixed)return null;let p=g(c.prefix,d),l=g(c.item,d);return l!==null?l+p:null},visitPublicKeyType(){return 32}}),i=>z(i,n))}function $u(e={}){var u,o;let t=(u=e.indent)!=null?u:!1,n=(o=e.indentSeparator)!=null?o:"|   ",r=-1;return b(me(s=>{let a=Ta(s).join(".");return t?`${n.repeat(r)}${s.kind}${a?` [${a}]`:""}`:`${s.kind}${a?`[${a}]`:""}`},(s,a)=>{let i=Ta(s).join(".");return t?[`${n.repeat(r)}${s.kind}${i?` [${i}]`:""}`,...a].join(`
`):`${s.kind}${i?`[${i}]`:""}(${a.join(", ")})`}),s=>ne(s,(a,i)=>{r+=1;let c=i(a);return r-=1,c}))}function Ta(e){var t,n;switch(e.kind){case"programNode":return[e.name,e.publicKey];case"instructionAccountNode":return[e.name,...e.isWritable?["writable"]:[],...e.isSigner===!0?["signer"]:[],...e.isSigner==="either"?["optionalSigner"]:[],...e.isOptional?["optional"]:[]];case"instructionRemainingAccountsNode":return[...e.isOptional?["optional"]:[],...e.isWritable?["writable"]:[],...e.isSigner===!0?["signer"]:[],...e.isSigner==="either"?["optionalSigner"]:[]];case"instructionByteDeltaNode":return[...e.subtract?["subtract"]:[],...e.withHeader?["withHeader"]:[]];case"errorNode":return[e.code.toString(),e.name];case"accountLinkNode":case"definedTypeLinkNode":case"instructionAccountLinkNode":case"instructionArgumentLinkNode":case"instructionLinkNode":case"pdaLinkNode":case"programLinkNode":return[e.name];case"numberTypeNode":return[e.format,...e.endian==="be"?["bigEndian"]:[]];case"amountTypeNode":return[e.decimals.toString(),...e.unit?[e.unit]:[]];case"stringTypeNode":return[e.encoding];case"optionTypeNode":return e.fixed?["fixed"]:[];case"fixedCountNode":return[e.value.toString()];case"numberValueNode":return[e.number.toString()];case"stringValueNode":return[e.string];case"booleanValueNode":return[e.boolean?"true":"false"];case"bytesValueNode":return[e.encoding,e.data];case"publicKeyValueNode":return[...e.identifier?[`${e.identifier}`]:[],e.publicKey];case"enumValueNode":return[e.variant];case"resolverValueNode":return[e.name];case"constantDiscriminatorNode":return[...e.offset>0?[`offset:${e.offset}`]:[]];case"fieldDiscriminatorNode":return[e.name,...e.offset>0?[`offset:${e.offset}`]:[]];case"sizeDiscriminatorNode":return[e.size.toString()];case"fixedSizeTypeNode":return[e.size.toString()];case"preOffsetTypeNode":return[e.offset.toString(),(t=e.strategy)!=null?t:"relative"];case"postOffsetTypeNode":return[e.offset.toString(),(n=e.strategy)!=null?n:"relative"];default:return"name"in e?[e.name]:[]}}function _n(e,t){let n={};return n[re(e)]=t,n}function Ae(e){return _n("rootNode",e)}function In(e={}){var d;let t=(d=e.includeDataArgumentValueNodes)!=null?d:!1,n=[],r=[],u=new Map,o=new Map;function s(p,l){if(y(l,"instructionAccountNode")&&u.has(l.name)||y(l,"instructionArgumentNode")&&o.has(l.name))return;if(n.some(({kind:V,name:k})=>V===l.kind&&k===l.name)){let V=[...n,l];throw new A(ht,{cycle:V,formattedCycle:V.map(({name:k})=>k).join(" -> "),instruction:p,instructionName:p.name})}n.push(l);let N=l.kind==="instructionAccountNode"?a(p,l):i(p,l);n.pop(),r.push(N),N.kind==="instructionAccountNode"?u.set(l.name,N):o.set(l.name,N)}function a(p,l){var V;let m=Ve(l);c(p,l,m);let N={...l,dependsOn:m,isPda:ee(p).some(k=>y(k.defaultValue,"accountBumpValueNode")&&k.defaultValue.name===l.name),resolvedIsOptional:!!l.isOptional,resolvedIsSigner:l.isSigner};switch((V=N.defaultValue)==null?void 0:V.kind){case"accountValueNode":let k=u.get(N.defaultValue.name),B=l.isSigner===!1&&k.isSigner===!1,L=l.isSigner===!0&&k.isSigner===!0,Xt=!B&&!L;N.resolvedIsSigner=Xt?"either":L,N.resolvedIsOptional=!!k.isOptional;break;case"publicKeyValueNode":case"programLinkNode":case"programIdValueNode":N.resolvedIsSigner=l.isSigner===!1?!1:"either",N.resolvedIsOptional=!1;break;case"pdaValueNode":N.resolvedIsSigner=l.isSigner===!1?!1:"either",N.resolvedIsOptional=!1;let{seeds:dt}=N.defaultValue;dt.forEach(G=>{if(!y(G.value,"accountValueNode"))return;if(u.get(G.value.name).resolvedIsOptional)throw new A(Vt,{instruction:p,instructionAccount:l,instructionAccountName:l.name,instructionName:p.name,seed:G,seedName:G.name,seedValueName:G.value.name})});break;case"identityValueNode":case"payerValueNode":case"resolverValueNode":N.resolvedIsOptional=!1;break;default:break}return N}function i(p,l){let m=Ve(l);return c(p,l,m),{...l,dependsOn:m}}function c(p,l,m){m.forEach(N=>{let V=null;if(y(N,"accountValueNode")){let k=p.accounts.find(B=>B.name===N.name);if(!k)throw new A(Le,{dependency:N,dependencyKind:N.kind,dependencyName:N.name,instruction:p,instructionName:p.name,parent:l,parentKind:l.kind,parentName:l.name});V={...k}}else if(y(N,"argumentValueNode")){let k=ee(p).find(B=>B.name===N.name);if(!k)throw new A(Le,{dependency:N,dependencyKind:N.kind,dependencyName:N.name,instruction:p,instructionName:p.name,parent:l,parentKind:l.kind,parentName:l.name});V={...k}}V&&s(p,V)})}return _n("instructionNode",p=>{var m;return n=[],r=[],u=new Map,o=new Map,[...p.accounts,...p.arguments.filter(N=>t?N.defaultValue:N.defaultValue&&!y(N.defaultValue,C)),...((m=p.extraArguments)!=null?m:[]).filter(N=>N.defaultValue)].forEach(N=>{s(p,N)}),r})}function Tn(e){let t=new Map,n=new Map;return e.forEach(r=>{y(r,"accountValueNode")?t.set(r.name,r):y(r,"argumentValueNode")&&n.set(r.name,r)}),[...t.values(),...n.values()]}function Ve(e){var n,r;if(y(e,"instructionNode"))return Tn([...e.accounts.flatMap(Ve),...e.arguments.flatMap(Ve),...((n=e.extraArguments)!=null?n:[]).flatMap(Ve)]);if(!e.defaultValue)return[];let t=u=>u?Ve({...e,defaultValue:u}):[];if(y(e.defaultValue,["accountValueNode","accountBumpValueNode"]))return[Me(e.defaultValue.name)];if(y(e.defaultValue,["argumentValueNode"]))return[je(e.defaultValue.name)];if(y(e.defaultValue,"pdaValueNode")){let u=new Map;return e.defaultValue.seeds.forEach(o=>{y(o.value,["accountValueNode","argumentValueNode"])&&u.set(o.value.name,{...o.value})}),[...u.values()]}return y(e.defaultValue,"resolverValueNode")?(r=e.defaultValue.dependsOn)!=null?r:[]:y(e.defaultValue,"conditionalValueNode")?Tn([...t(e.defaultValue.condition),...t(e.defaultValue.ifTrue),...t(e.defaultValue.ifFalse)]):[]}function ie(e={}){return Ce(e)}function Sa(e={}){return ne(ie(e),(t,n)=>"docs"in t?n({...t,docs:[]}):n(t))}function Dn(e={}){var n;return((n=e.removeDocs)!=null?n:!1)?lt(Sa(),r=>(0,hn.default)(r)):Wt(r=>(0,hn.default)(r))}function Ea(e,t){let n=!0;return ne(e,(r,u)=>{try{if(n){n=!1;let o=t(r,u);return n=!0,o}return u(r)}catch(o){throw n=!0,o}})}var Vn=["accountNode","definedTypeNode","instructionAccountNode","instructionArgumentNode","instructionNode","pdaNode","programNode"],F=class{constructor(){we(this,"programs",new Map)}recordPath(e){let t=R(e),n=this.getOrCreateProgramDictionary(e);if(!n)return this;let r=this.getOrCreateInstructionDictionary(n,e);return pe(e,"accountNode")?n.accounts.set(t.name,e):pe(e,"definedTypeNode")?n.definedTypes.set(t.name,e):pe(e,"pdaNode")?n.pdas.set(t.name,e):r&&pe(e,"instructionAccountNode")?r.accounts.set(t.name,e):r&&pe(e,"instructionArgumentNode")&&r.arguments.set(t.name,e),this}getPathOrThrow(e){let t=this.getPath(e);if(!t){let n=R(e);throw new A(Nt,{kind:n.kind,linkNode:n,name:n.name,path:e})}return t}getPath(e){let t=R(e),n=this.getProgramDictionary(e);if(!n)return;let r=this.getInstructionDictionary(n,e);if(y(t,"accountLinkNode"))return n.accounts.get(t.name);if(y(t,"definedTypeLinkNode"))return n.definedTypes.get(t.name);if(y(t,"instructionAccountLinkNode"))return r==null?void 0:r.accounts.get(t.name);if(y(t,"instructionArgumentLinkNode"))return r==null?void 0:r.arguments.get(t.name);if(y(t,"instructionLinkNode"))return r==null?void 0:r.instruction;if(y(t,"pdaLinkNode"))return n.pdas.get(t.name);if(y(t,"programLinkNode"))return n.program}getOrThrow(e){return R(this.getPathOrThrow(e))}get(e){let t=this.getPath(e);return t?R(t):void 0}has(e){let t=R(e),n=this.getProgramDictionary(e);if(!n)return!1;let r=this.getInstructionDictionary(n,e);return y(t,"accountLinkNode")?n.accounts.has(t.name):y(t,"definedTypeLinkNode")?n.definedTypes.has(t.name):y(t,"instructionAccountLinkNode")?!!r&&r.accounts.has(t.name):y(t,"instructionArgumentLinkNode")?!!r&&r.arguments.has(t.name):y(t,"instructionLinkNode")?n.instructions.has(t.name):y(t,"pdaLinkNode")?n.pdas.has(t.name):!!y(t,"programLinkNode")}getOrCreateProgramDictionary(e){let t=R(e),n=y(t,"programNode")?t:se(e);if(!n)return;let r=this.programs.get(n.name);return r||(r={accounts:new Map,definedTypes:new Map,instructions:new Map,pdas:new Map,program:gn(e,"programNode")},this.programs.set(n.name,r)),r}getOrCreateInstructionDictionary(e,t){let n=R(t),r=y(n,"instructionNode")?n:vn(t);if(!r)return;let u=e.instructions.get(r.name);return u||(u={accounts:new Map,arguments:new Map,instruction:gn(t,"instructionNode")},e.instructions.set(r.name,u)),u}getProgramDictionary(e){var r,u,o,s;let t=R(e),n;return y(t,"programLinkNode")?n=t.name:"program"in t?n=(r=t.program)==null?void 0:r.name:"instruction"in t&&(n=(o=(u=t.instruction)==null?void 0:u.program)==null?void 0:o.name),n=n!=null?n:(s=se(e))==null?void 0:s.name,n?this.programs.get(n):void 0}getInstructionDictionary(e,t){var u,o;let n=R(t),r;return y(n,"instructionLinkNode")?r=n.name:"instruction"in n&&(r=(u=n.instruction)==null?void 0:u.name),r=r!=null?r:(o=vn(t))==null?void 0:o.name,r?e.instructions.get(r):void 0}};function ba(e={}){return me(()=>{},()=>{},e)}function Zt(e){let t=new U;return b(ba(),n=>ne(n,(r,u)=>(y(r,Vn)&&e.recordPath(t.getPath(Vn)),u(r))),n=>z(n,t))}function q(e,t){let n=Zt(t);return b(e,r=>Ea(r,(u,o)=>(g(u,n),o(u))))}function Uu(e,t,n){let r={...e};return r[re(t)]=function(o){return n(o),e[re(t)].bind(this)(o)},r}var _a=["debug","trace","info","warn","error"];function D(e,t,n,r){return{level:e,message:t,node:n,path:Array.isArray(r)?r:r.getPath()}}var ft=e=>_a.indexOf(e);function zu(){let e=new F,t=new U;return b(me(()=>[],(n,r)=>r.flat()),n=>q(n,e),n=>z(n,t),n=>j(n,{visitAccount(r,{next:u}){let o=[];return r.name||o.push(D("error","Account has no name.",r,t)),[...o,...u(r)]},visitDefinedType(r,{next:u}){let o=[];return r.name||o.push(D("error","Defined type has no name.",r,t)),[...o,...u(r)]},visitDefinedTypeLink(r,{next:u}){let o=[];return r.name?e.has(t.getPath(r.kind))||o.push(D("error",`Pointing to a missing defined type named "${r.name}"`,r,t)):o.push(D("error","Pointing to a defined type with no name.",r,t)),[...o,...u(r)]},visitEnumEmptyVariantType(r,{next:u}){let o=[];return r.name||o.push(D("error","Enum variant has no name.",r,t)),[...o,...u(r)]},visitEnumStructVariantType(r,{next:u}){let o=[];return r.name||o.push(D("error","Enum variant has no name.",r,t)),[...o,...u(r)]},visitEnumTupleVariantType(r,{next:u}){let o=[];return r.name||o.push(D("error","Enum variant has no name.",r,t)),[...o,...u(r)]},visitEnumType(r,{next:u}){let o=[];return r.variants.length===0&&o.push(D("warn","Enum has no variants.",r,t)),r.variants.forEach(s=>{s.name||o.push(D("error","Enum variant has no name.",r,t))}),[...o,...u(r)]},visitError(r,{next:u}){let o=[];return r.name||o.push(D("error","Error has no name.",r,t)),typeof r.code!="number"&&o.push(D("error","Error has no code.",r,t)),r.message||o.push(D("warn","Error has no message.",r,t)),[...o,...u(r)]},visitInstruction(r,{next:u}){let o=[];r.name||o.push(D("error","Instruction has no name.",r,t));let s=new Map;r.accounts.forEach(l=>{var N;if(!l.name){o.push(D("error","Instruction account has no name.",r,t));return}let m=((N=s.get(l.name))!=null?N:0)+1;s.set(l.name,m),m===2&&o.push(D("error",`Account name "${l.name}" is not unique in instruction "${r.name}".`,r,t))});let a=In();try{g(r,a)}catch(l){o.push(D("error",l.message,r,t))}let c=ee(r).map(({name:l})=>v(l)).filter((l,m,N)=>N.indexOf(l)!==m),d=[...new Set(c)];return d.length>0&&o.push(D("error",`The names of the following instruction arguments are conflicting: [${d.join(", ")}].`,r,t)),ee(r).forEach(l=>{let{defaultValue:m}=l;if(y(m,"accountBumpValueNode")){let N=r.accounts.find(V=>V.name===m.name);N&&N.isSigner!==!1&&o.push(D("error",`Argument ${l.name} cannot default to the bump attribute of the [${m.name}] account as it may be a Signer.`,r,t))}}),[...o,...u(r)]},visitProgram(r,{next:u}){let o=[];return r.name||o.push(D("error","Program has no name.",r,t)),r.publicKey||o.push(D("error","Program has no public key.",r,t)),r.version||o.push(D("warn","Program has no version.",r,t)),r.origin||o.push(D("info","Program has no origin.",r,t)),[...o,...u(r)]},visitStructFieldType(r,{next:u}){let o=[];return r.name||o.push(D("error","Struct field has no name.",r,t)),[...o,...u(r)]},visitStructType(r,{next:u}){let o=[],s=new Map;return r.fields.forEach(a=>{var c;if(!a.name)return;let i=((c=s.get(a.name))!=null?c:0)+1;s.set(a.name,i),i===2&&o.push(D("error",`Struct field name "${a.name}" is not unique.`,a,t))}),[...o,...u(r)]},visitTupleType(r,{next:u}){let o=[];return r.items.length===0&&o.push(D("warn","Tuple has no items.",r,t)),[...o,...u(r)]}}))}function qu(e,t="error"){return lt(e,n=>{let r=[...n].sort((o,s)=>ft(s.level)-ft(o.level)).reduce((o,s)=>{var a;return o[s.level]=((a=o[s.level])!=null?a:0)+1,o},{});if(Object.keys(r).map(o=>ft(o)).sort((o,s)=>s-o)[0]>=ft(t)){let o=Object.keys(r).map(s=>`${s}s: ${r[s]}`).join(", ");throw new A(Et,{formattedHistogram:o,validationItems:n})}})}function Bu(e){return E(Object.entries(e).map(([t,n])=>({select:`[programNode]${v(t)}`,transform:u=>{f(u,"programNode");let o=new Set(u.pdas.map(i=>i.name)),s=new Set(n.map(i=>i.name)),a=new Set([...o].filter(i=>s.has(i)));if(a.size>0)throw new A(gt,{duplicatedPdaNames:[...a],program:u,programName:u.name});return W({...u,pdas:[...u.pdas,...n.map(i=>te({name:i.name,seeds:i.seeds}))]})}})))}function Gu(){return E([{select:"[instructionNode]",transform:e=>(f(e,"instructionNode"),M({...e,arguments:kn(e.arguments)}))}])}var kn=(e,t="*")=>{let n=t==="*"?t:t.map(v),r=c=>t==="*"||n.includes(v(c.name)),u=e.flatMap(c=>y(c.type,"structTypeNode")&&r(c)?c.type.fields.map(d=>x({...d})):c),s=u.map(c=>c.name).filter((c,d,p)=>p.indexOf(c)!==d),a=[...new Set(s)],i=a.length>0;if(i)throw new A(Oe,{conflictingAttributes:a});return i?e:u};function Ku(e){let t=new F,n=E(Object.entries(e).map(([r,u])=>({select:["[instructionNode]",r],transform:(o,s)=>{var m,N;f(o,"instructionNode");let a=o.arguments,i=v(u),c=a.findIndex(V=>V.name===i),d=c>=0?a[c]:null;if(!d)throw new A(Fe,{argumentName:i,instruction:o,instructionName:o.name});let p;if(y(d.type,"enumTypeNode"))p=d.type;else if(y(d.type,"definedTypeLinkNode")&&t.has([...s.getPath(),d.type])){let V=(m=t.get([...s.getPath(),d.type]))==null?void 0:m.type;f(V,"enumTypeNode"),p=V}else throw new A(Fe,{argumentName:i,instruction:o,instructionName:o.name});let l=p.variants.map((V,k)=>{let B=v(`${o.name} ${V.name}`),L=a.slice(0,c);return L.push(x({defaultValue:zr(k),defaultValueStrategy:"omitted",name:`${B}Discriminator`,type:ce("u8")})),y(V,"enumStructVariantTypeNode")?L.push(x({...d,type:V.struct})):y(V,"enumTupleVariantTypeNode")&&L.push(x({...d,type:V.tuple})),L.push(...a.slice(c+1)),M({...o,arguments:kn(L),name:B})});return M({...o,subInstructions:[...(N=o.subInstructions)!=null?N:[],...l]})}})));return b(n,r=>q(r,t))}function Hu(){return Ae(e=>{let t=new Map,n=Q(e);n.forEach(o=>{o.definedTypes.forEach(s=>{var c;let a={program:o,type:s},i=(c=t.get(s.name))!=null?c:[];t.set(s.name,[...i,a])})}),t.forEach((o,s)=>{o.length<=1&&t.delete(s)});let r=Dn({removeDocs:!0});t.forEach((o,s)=>{o.map(c=>g(c.type,r)).every((c,d,p)=>c===p[0])||t.delete(s)});let u=Array.from(t.values()).flatMap(o=>{let s=o.sort((i,c)=>n.indexOf(i.program)-n.indexOf(c.program)),[,...a]=s;return a}).map(({program:o,type:s})=>`[programNode]${o.name}.[definedTypeNode]${s.name}`);if(u.length>0){let o=g(e,En(u));return f(o,"rootNode"),o}return e})}function Rn(e,t,n=!1){let r=R(e);return b(Ce({keys:ue}),u=>j(u,{visitPdaValue(o,{next:s}){let a=s(o);f(a,"pdaValueNode");let i=y(a.pda,"pdaNode")?a.pda:t.get([...e,a.pda]);if(!i)return a;let c=Wu(r,i,a.seeds);if(n&&!Ju(r,i,c))throw new A(Tt,{instruction:r,instructionName:r.name,pda:i,pdaName:i.name});return ze(a.pda,c)}}))}function Wu(e,t,n){let r=new Set(n.map(o=>o.name)),u=Yu(e,t).filter(o=>!r.has(o.name));return[...n,...u]}function Yu(e,t){return t.seeds.flatMap(n=>{if(!y(n,"variablePdaSeedNode"))return[];let r=e.accounts.some(o=>o.name===n.name);return y(n.type,"publicKeyTypeNode")&&r?[Se(n.name,Me(n.name))]:ee(e).some(o=>o.name===n.name)?[Se(n.name,je(n.name))]:[]})}function Ju(e,t,n){let r=t.seeds.filter(Ir("variablePdaSeedNode")).length===n.length,u=e.accounts.map(a=>a.name),o=ee(e).map(a=>a.name),s=n.every(a=>y(a.value,"accountValueNode")?u.includes(a.value.name):y(a.value,"argumentValueNode")?o.includes(a.value.name):!0);return r&&s}function Zu(e){return E(Object.entries(e).map(([t,n])=>({select:`${t}.[structTypeNode]`,transform:r=>Da(r,n)})))}var Da=(e,t="*")=>{f(e,"structTypeNode");let n=t==="*"?t:t.map(v),r=c=>t==="*"||n.includes(v(c.name)),u=e.fields.flatMap(c=>y(c.type,"structTypeNode")&&r(c)?c.type.fields:[c]),s=u.map(c=>c.name).filter((c,d,p)=>p.indexOf(c)!==d),a=[...new Set(s)],i=a.length>0;if(i)throw new A(Oe,{conflictingAttributes:a});return i?e:H(u)};function Ia(e){let t={};return e.forEach(n=>{Object.keys(n).forEach(r=>{let u=r;t[u]===void 0?t[u]=n[u]:(t[u].total+=n[u].total,t[u].inAccounts+=n[u].inAccounts,t[u].inDefinedTypes+=n[u].inDefinedTypes,t[u].inInstructionArgs+=n[u].inInstructionArgs,t[u].directlyAsInstructionArgs+=n[u].directlyAsInstructionArgs)})}),t}function Pn(){let e=new U,t=null,n=0;return b(me(()=>({}),(r,u)=>Ia(u)),r=>ne(r,(u,o)=>{n+=1;let s=o(u);return n-=1,s}),r=>j(r,{visitAccount(u,{self:o}){t="account",n=0;let s=g(u.data,o);return t=null,s},visitDefinedType(u,{self:o}){t="definedType",n=0;let s=g(u.type,o);return t=null,s},visitDefinedTypeLink(u){let o=se(e.getPath());return{[o?`${o.name}.${u.name}`:u.name]:{directlyAsInstructionArgs:+(t==="instruction"&&n<=1),inAccounts:+(t==="account"),inDefinedTypes:+(t==="definedType"),inInstructionArgs:+(t==="instruction"),total:1}}},visitInstruction(u,{self:o}){var c,d;t="instruction",n=0;let s=u.arguments.map(p=>g(p,o)),a=((c=u.extraArguments)!=null?c:[]).map(p=>g(p,o));t=null;let i=((d=u.subInstructions)!=null?d:[]).map(p=>g(p,o));return Ia([...s,...a,...i])}}),r=>z(r,e))}function Xu(e){return E(Object.entries(e).map(([t,{field:n,value:r,offset:u}])=>({select:["[accountNode]",t],transform:o=>{var c;f(o,"accountNode");let s=ge(o.data),a=s.fields.findIndex(d=>d.name===n);if(a<0)throw new A(At,{account:o,missingField:n,name:o.name});let i=s.fields[a];return X({...o,data:fe(o.data,()=>H([...s.fields.slice(0,a),J({...i,defaultValue:r,defaultValueStrategy:"omitted"}),...s.fields.slice(a+1)])),discriminators:[Be(n,u),...(c=o.discriminators)!=null?c:[]]})}})))}function Qu(){let e=new F,t=Jt([{select:n=>pe(n,"accountNode")&&R(n).size===void 0,transform:(n,r)=>{f(n,"accountNode");let u=g(n.data,bn(e,{stack:r}));return u===null?n:X({...n,size:u})}}],{keys:["rootNode","programNode","accountNode"]});return b(t,n=>q(n,e))}var ec=()=>[{account:/^(payer|feePayer)$/,defaultValue:ar(),ignoreIfOptional:!0},{account:/^(authority)$/,defaultValue:or(),ignoreIfOptional:!0},{account:/^(programId)$/,defaultValue:Dt(),ignoreIfOptional:!0},{account:/^(systemProgram|splSystemProgram)$/,defaultValue:P("11111111111111111111111111111111","splSystem"),ignoreIfOptional:!0},{account:/^(tokenProgram|splTokenProgram)$/,defaultValue:P("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA","splToken"),ignoreIfOptional:!0},{account:/^(ataProgram|splAtaProgram)$/,defaultValue:P("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL","splAssociatedToken"),ignoreIfOptional:!0},{account:/^(tokenMetadataProgram|mplTokenMetadataProgram)$/,defaultValue:P("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s","mplTokenMetadata"),ignoreIfOptional:!0},{account:/^(tokenAuth|mplTokenAuth|authorization|mplAuthorization|auth|mplAuth)RulesProgram$/,defaultValue:P("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg","mplTokenAuthRules"),ignoreIfOptional:!0},{account:/^(candyMachineProgram|mplCandyMachineProgram)$/,defaultValue:P("CndyV3LdqHUfDLmE5naZjVN8rBZz4tqhdefbAnjHG3JR","mplCandyMachine"),ignoreIfOptional:!0},{account:/^(candyGuardProgram|mplCandyGuardProgram)$/,defaultValue:P("Guard1JwRhJkVH6XZhzoYxeBVQe872VH6QggF4BWmS9g","mplCandyGuard"),ignoreIfOptional:!0},{account:/^(clockSysvar|sysvarClock)$/,defaultValue:P("SysvarC1ock11111111111111111111111111111111"),ignoreIfOptional:!0},{account:/^(epochScheduleSysvar|sysvarEpochSchedule)$/,defaultValue:P("SysvarEpochSchedu1e111111111111111111111111"),ignoreIfOptional:!0},{account:/^(instructions?Sysvar|sysvarInstructions?)(Account)?$/,defaultValue:P("Sysvar1nstructions1111111111111111111111111"),ignoreIfOptional:!0},{account:/^(recentBlockhashesSysvar|sysvarRecentBlockhashes)$/,defaultValue:P("SysvarRecentB1ockHashes11111111111111111111"),ignoreIfOptional:!0},{account:/^(rent|rentSysvar|sysvarRent)$/,defaultValue:P("SysvarRent111111111111111111111111111111111"),ignoreIfOptional:!0},{account:/^(rewardsSysvar|sysvarRewards)$/,defaultValue:P("SysvarRewards111111111111111111111111111111"),ignoreIfOptional:!0},{account:/^(slotHashesSysvar|sysvarSlotHashes)$/,defaultValue:P("SysvarS1otHashes111111111111111111111111111"),ignoreIfOptional:!0},{account:/^(slotHistorySysvar|sysvarSlotHistory)$/,defaultValue:P("SysvarS1otHistory11111111111111111111111111"),ignoreIfOptional:!0},{account:/^(stakeHistorySysvar|sysvarStakeHistory)$/,defaultValue:P("SysvarStakeHistory1111111111111111111111111"),ignoreIfOptional:!0},{account:/^(mplCoreProgram)$/,defaultValue:P("CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d","mplCore"),ignoreIfOptional:!0}];function tc(e){let t=new F,n=new U,r=e.sort((o,s)=>{let a="instruction"in o,i="instruction"in s;return a&&i||!o&&!i?0:a?-1:1});function u(o,s){return r.find(a=>"instruction"in a&&a.instruction&&v(a.instruction)!==o.name?!1:typeof a.account=="string"?v(a.account)===s.name:a.account.test(s.name))}return b(ie({keys:["rootNode","programNode","instructionNode"]}),o=>j(o,{visitInstruction(s){let a=n.getPath("instructionNode"),i=s.accounts.map(c=>{var p;let d=u(s,c);if(!d||(p=d.ignoreIfOptional)!=null&&p&&(c.isOptional||c.defaultValue))return c;try{return{...c,defaultValue:g(d.defaultValue,Rn(a,t,!0))}}catch{return c}});return M({...s,accounts:i})}}),o=>z(o,n),o=>q(o,t))}function rc(e){return E(Object.entries(e).map(([t,n])=>({select:["[instructionNode]",t],transform:r=>{var o,s,a,i,c,d;f(r,"instructionNode");let u=x({defaultValue:n.value,defaultValueStrategy:(o=n.strategy)!=null?o:"omitted",docs:(s=n.docs)!=null?s:[],name:(a=n.name)!=null?a:"discriminator",type:(i=n.type)!=null?i:ce("u8")});return M({...r,arguments:[u,...r.arguments],discriminators:[Be((c=n.name)!=null?c:"discriminator"),...(d=r.discriminators)!=null?d:[]]})}})))}function nc(e){return E(Object.entries(e).map(([t,n])=>({select:`${t}.[numberTypeNode]`,transform:r=>{switch(Z(r,"numberTypeNode"),n.kind){case"DateTime":return We(r);case"SolAmount":return Qe(r);case"Amount":return Ke(r,n.decimals,n.unit);default:throw new A(Ot,{wrapper:n})}}})))}function ic(e){return E(Object.entries(e).flatMap(([t,n])=>{let r=Object.fromEntries(Object.entries(n).map(([u,o])=>[v(u),o]));return[{select:`${t}.[structTypeNode]`,transform:u=>{f(u,"structTypeNode");let o=u.fields.map(s=>{let a=r[s.name];return a===void 0?s:a===null?J({...s,defaultValue:void 0,defaultValueStrategy:void 0}):J({...s,defaultValue:"kind"in a?a:a.value,defaultValueStrategy:"kind"in a?void 0:a.strategy})});return H(o)}},{select:["[instructionNode]",t],transform:u=>{f(u,"instructionNode");let o=s=>{let a=r[s.name];return a===void 0?s:a===null?x({...s,defaultValue:void 0,defaultValueStrategy:void 0}):x({...s,defaultValue:"kind"in a?a:a.value,defaultValueStrategy:"kind"in a?void 0:a.strategy})};return M({...u,arguments:u.arguments.map(o),extraArguments:u.extraArguments?u.extraArguments.map(o):void 0})}}]}))}function oc(e){return b(ie({keys:["rootNode","programNode"]}),t=>j(t,{visitProgram(n){let r=n.definedTypes.filter(s=>e.includes(s.name)),u=n.definedTypes.filter(s=>!e.includes(s.name)),o=r.map(s=>(f(s.type,"structTypeNode"),X({...s,data:s.type,discriminators:[],size:void 0})));return W({...n,accounts:[...n.accounts,...o],definedTypes:u})}}))}function ac(e="*"){let t=n=>y(n,"fixedCountNode")?e==="*"||e.includes(n.value):!1;return b(ie(),n=>j(n,{visitArrayType(r,{self:u}){let o=g(r.item,u);return f(o,_),y(o,"numberTypeNode")&&o.format==="u8"&&y(r.count,"fixedCountNode")&&t(r.count)?Ze(Ge(),r.count.value):He(o,r.count)}}))}function Cn(e="*"){let t=new F,n=new U,r=(e==="*"?[]:e).map(o=>{if(!o.includes("."))return v(o);let[s,a]=o.split(".");return`${v(s)}.${v(a)}`}),u=(o,s)=>{if(e==="*")return!0;let a=`${s}.${o}`;return s&&r.includes(a)?!0:r.includes(o)};return b(ie(),o=>j(o,{visitDefinedTypeLink(s,{self:a}){var l,m,N;let i=(N=(l=s.program)==null?void 0:l.name)!=null?N:(m=se(n.getPath()))==null?void 0:m.name;if(!u(s.name,i))return s;let c=t.getPathOrThrow(n.getPath("definedTypeLinkNode")),d=R(c);n.pushPath(c);let p=g(d.type,a);return n.popPath(),p},visitProgram(s,{self:a}){return W({...s,accounts:s.accounts.map(i=>g(i,a)).filter(Xe("accountNode")),definedTypes:s.definedTypes.filter(i=>!u(i.name,s.name)).map(i=>g(i,a)).filter(Xe("definedTypeNode")),instructions:s.instructions.map(i=>g(i,a)).filter(Xe("instructionNode"))})}}),o=>z(o,n),o=>q(o,t))}function sc(){return Ae(e=>{let t=g(e,Pn()),n=new F;g(e,Zt(n));let r=Object.keys(t).filter(u=>{var o,s;return((o=t[u].total)!=null?o:0)===1&&((s=t[u].directlyAsInstructionArgs)!=null?s:0)===1}).filter(u=>{let o=u.split("."),s=o.length==2?oe(o[1],o[0]):oe(u),a=n.get([s]);return a&&!y(a.type,"enumTypeNode")});if(r.length>0){let u=Cn(r),o=g(e,u);return f(o,"rootNode"),o}return e})}function uc(e="*"){let t=e==="*"?[()=>!0]:e.map(r=>Yt(r)),n=r=>t.some(u=>u(r.getPath()));return Ae(r=>{let u=[],o=new Map(Jr(r).map(c=>[c.name,c])),s=g(r,E([{select:"[enumTupleVariantTypeNode]",transform:(c,d)=>{if(f(c,"enumTupleVariantTypeNode"),!n(d))return c;let p=ge(c.tuple);if(p.items.length!==1)return c;let l=p.items[0];if(y(l,"definedTypeLinkNode")){let N=o.get(l.name);if(!N||!y(N.type,"structTypeNode"))return c;u.push(l.name),l=N.type}if(!y(l,"structTypeNode"))return c;let m=fe(c.tuple,()=>l);return ve(c.name,m)}}]));f(s,"rootNode");let a=g(s,Pn()),i=u.filter(c=>!a[c]||a[c].total===0);return s=g(s,Cn(i)),f(s,"rootNode"),s})}function cc(e){let t=new F,n=e.map(r=>({select:["[definedTypeLinkNode]",r],transform:(u,o)=>t.getOrThrow(o.getPath("definedTypeLinkNode")).type}));return b(E(n),r=>q(r,t))}function ka(e,t){return H(e.fields.map(n=>t[n.name]?J({...n,name:t[n.name]}):n))}function lc(e,t){return Je(e.variants.map(n=>t[n.name]?fc(n,t[n.name]):n),{...e})}function fc(e,t){return y(e,"enumStructVariantTypeNode")?ve(t,e.struct):y(e,"enumTupleVariantTypeNode")?Ye(t,e.tuple):le(t)}function dc(e){return E(Object.entries(e).flatMap(([t,n])=>{let r=typeof n=="object"&&"name"in n&&n.name?v(n.name):void 0,u=[],o=[{select:["[accountNode]",t],transform:(s,a)=>{if(f(s,"accountNode"),"delete"in n)return null;let i=se(a.getPath()),{seeds:c,pda:d,...p}=n,l=s.pda;return d&&c!==void 0?(l=d,u.push({pda:te({name:d.name,seeds:c}),program:i.name})):d?l=d:c!==void 0&&s.pda?u.push({pda:te({name:s.pda.name,seeds:c}),program:i.name}):c!==void 0&&(l=Ne(r!=null?r:s.name),u.push({pda:te({name:r!=null?r:s.name,seeds:c}),program:i.name})),X({...s,...p,data:fe(s.data,m=>{var N;return ka(m,(N=n.data)!=null?N:{})}),pda:l})}},{select:"[programNode]",transform:s=>{f(s,"programNode");let a=u.filter(l=>l.program===s.name).map(l=>l.pda);if(a.length===0)return s;let i=new Set(s.pdas.map(l=>l.name)),c=a.filter(l=>!i.has(l.name)),d=new Map(a.filter(l=>i.has(l.name)).map(l=>[l.name,l])),p=[...s.pdas.map(l=>{var m;return(m=d.get(l.name))!=null?m:l}),...c];return W({...s,pdas:p})}}];return r&&o.push({select:["[accountLinkNode]",t],transform:s=>(f(s,"accountLinkNode"),$e(r))},{select:["[pdaNode]",t],transform:s=>(f(s,"pdaNode"),te({name:r,seeds:s.seeds}))},{select:["[pdaLinkNode]",t],transform:s=>(f(s,"pdaLinkNode"),Ne(r))}),o}))}function pc(e){return E(Object.entries(e).flatMap(([t,n])=>{let r=typeof n=="object"&&"name"in n&&n.name?v(n.name):void 0,u=[{select:["[definedTypeNode]",t],transform:o=>{if(f(o,"definedTypeNode"),"delete"in n)return null;let{data:s,...a}=n,i=o.type;return y(o.type,"structTypeNode")?i=ka(o.type,s!=null?s:{}):y(o.type,"enumTypeNode")&&(i=lc(o.type,s!=null?s:{})),tt({...o,...a,name:r!=null?r:o.name,type:i})}}];return r&&u.push({select:["[definedTypeLinkNode]",t],transform:o=>(f(o,"definedTypeLinkNode"),oe(r))}),u}))}function mc(e){return E(Object.entries(e).map(([t,n])=>({select:`[errorNode]${t}`,transform:r=>(f(r,"errorNode"),"delete"in n?null:Wr({...r,...n}))})))}function yc(e){let t=new F,n=new U,r=Object.entries(e).map(([u,o])=>({select:["[instructionNode]",u],transform:s=>{if(f(s,"instructionNode"),"delete"in o)return null;let a=n.getPath("instructionNode"),{accounts:i,arguments:c,...d}=o,{newArguments:p,newExtraArguments:l}=vc(s,c!=null?c:{}),m=s.accounts.map(N=>Nc(a,N,i!=null?i:{},t));return M({...s,...d,accounts:m,arguments:p,extraArguments:l.length>0?l:void 0})}}));return b(E(r),u=>z(u,n),u=>q(u,t))}function Nc(e,t,n,r){let u=n==null?void 0:n[t.name];if(!u)return t;let{defaultValue:o,...s}={...t,...u};return o?be({...s,defaultValue:g(o,Rn(e,r))}):be(s)}function vc(e,t){var s;let n=new Set,r=e.arguments.map(a=>{var c,d,p,l,m;let i=t[a.name];return i?(n.add(a.name),x({...a,defaultValue:(c=i.defaultValue)!=null?c:a.defaultValue,defaultValueStrategy:(d=i.defaultValueStrategy)!=null?d:a.defaultValueStrategy,docs:(p=i.docs)!=null?p:a.docs,name:(l=i.name)!=null?l:a.name,type:(m=i.type)!=null?m:a.type})):a}),o=[...((s=e.extraArguments)!=null?s:[]).map(a=>{var c,d,p,l,m;if(n.has(a.name))return a;let i=t[a.name];return i?(n.add(a.name),x({...a,defaultValue:(c=i.defaultValue)!=null?c:a.defaultValue,defaultValueStrategy:(d=i.defaultValueStrategy)!=null?d:a.defaultValueStrategy,docs:(p=i.docs)!=null?p:a.docs,name:(l=i.name)!=null?l:a.name,type:(m=i.type)!=null?m:a.type})):a}),...Object.entries(t).filter(([a])=>!n.has(a)).map(([a,i])=>{var d,p,l,m;let{type:c}=i;return f(c,_),x({defaultValue:(d=i.defaultValue)!=null?d:void 0,defaultValueStrategy:(p=i.defaultValueStrategy)!=null?p:void 0,docs:(l=i.docs)!=null?l:[],name:(m=i.name)!=null?m:a,type:c})})];return{newArguments:r,newExtraArguments:o}}function gc(e){return E(Object.entries(e).flatMap(([t,n])=>{let r=typeof n=="object"&&"name"in n&&n.name?v(n.name):void 0,u=[{select:`[programNode]${t}`,transform:o=>(f(o,"programNode"),"delete"in n?null:W({...o,...n}))}];return r&&u.push({select:`[programLinkNode]${t}`,transform:o=>(f(o,"programLinkNode"),ye(r))}),u}))}function xn(e){let t=e;return Ra(t.version),{accept(n){return g(t,n)},clone(){return xn({...t})},getJson(){return JSON.stringify(t)},getRoot(){return t},update(n){let r=g(t,n);f(r,"rootNode"),t=r}}}function Tc(e){return xn(JSON.parse(e))}function Ra(e){let t="1.3.0";if(e===t)return;let[n,r]=e.split(".").map(Number),[u,o]=t.split(".").map(Number);if(!(n===0&&u===0&&r===o)&&n!==u)throw new A(vt,{codamaVersion:t,rootVersion:e})}return Ua(hc);})();
